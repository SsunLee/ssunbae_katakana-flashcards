(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[573],{15:(e,t,a)=>{"use strict";a.d(t,{c:()=>i});var n=a(2115);function i(){let[e,t]=(0,n.useState)([]),[a,i]=(0,n.useState)(null),[s,l]=(0,n.useState)(!1),[r,o]=(0,n.useState)(!1),c=(0,n.useMemo)(()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent),[]);return(0,n.useEffect)(()=>{if("speechSynthesis"in window){l(!0);let e=()=>{let e=window.speechSynthesis.getVoices().filter(e=>e.lang.startsWith("es-"));if(t(e),e.length>0){let t=localStorage.getItem("selectedEsVoice");i(e.find(e=>e.name===t)||e[0]),o(!0)}};return window.speechSynthesis.onvoiceschanged=e,e(),()=>{window.speechSynthesis.onvoiceschanged=null}}},[]),{isSupported:s,ready:r,speakEs:e=>{if(!s||!r||!a||!e)return;window.speechSynthesis.cancel();let t=new SpeechSynthesisUtterance(e);t.voice=a,t.lang=a.lang,t.rate=.9,window.speechSynthesis.speak(t)},selectedVoice:a,voices:e,selectVoice:e=>{e&&(i(e),localStorage.setItem("selectedEsVoice",e.name))},isSafari:c}}},4895:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>k});var n=a(5155),i=a(2115),s=a(9070),l=a(7325),r=a(8324),o=a(2171),c=a(4643),d=a(5511);let m=e=>{let{card:t,isFlipped:a,isFav:i,onFlip:s,onToggleFav:l,wordFontSize:r}=e;return(0,n.jsx)("div",{className:"[perspective:1200px] w-full max-w-md mx-auto",children:(0,n.jsxs)("div",{role:"button",tabIndex:0,"aria-label":"flip card",onClick:s,className:"relative h-64 md:h-72 transition-transform duration-500 [transform-style:preserve-3d] cursor-pointer",style:{transform:a?"rotateY(180deg)":"rotateY(0deg)"},children:[(0,n.jsxs)("div",{className:"absolute inset-0 bg-slate-800/60 backdrop-blur rounded-2xl shadow-xl border border-white/10 flex flex-col items-center justify-center p-6 [backface-visibility:hidden]",children:[(0,n.jsx)(o.$,{type:"button",size:"icon",variant:"secondary",onClick:e=>{e.stopPropagation(),l()},className:"absolute top-4 right-4 h-9 w-9 rounded-full bg-white/10 hover:bg-white/15 border border-white/10",title:i?"즐겨찾기 해제":"즐겨찾기 추가",children:(0,n.jsx)("span",{className:"text-xl flex items-center justify-center w-full h-full",children:i?"⭐":"☆"})}),(0,n.jsx)("div",{className:"text-sm text-white/60 mb-2",children:"카드를 눌러 정답을 확인하세요."}),(0,n.jsx)("div",{className:"text-center w-full",children:(0,n.jsx)("p",{className:"font-semibold leading-snug break-all",style:{fontSize:"".concat(r,"px")},children:t.word})})]}),(0,n.jsx)("div",{className:"absolute inset-0 bg-slate-800/80 backdrop-blur rounded-2xl shadow-xl border border-white/10 flex flex-col items-center justify-center p-6 [transform:rotateY(180deg)] [backface-visibility:hidden]",children:(0,n.jsxs)("div",{className:"text-center w-full",children:[(0,n.jsx)("p",{className:"text-sm text-white/60 mb-2",children:"정답"}),(0,n.jsx)("p",{className:"font-bold text-cyan-300",style:{fontSize:"".concat(.8*r,"px")},children:t.meaning}),(0,n.jsxs)("p",{className:"text-base text-white/70 mt-1",children:["(",t.pronunciation,")"]}),(0,n.jsx)("div",{className:"w-full h-[1px] bg-white/10 my-4"}),(0,n.jsxs)("div",{className:"space-y-1 text-base text-white/90",children:[(0,n.jsx)("p",{children:t.exampleSentence}),(0,n.jsx)("p",{className:"text-sm text-white/70",children:t.exampleTranslation})]})]})})]})})};var u=a(7288),h=a(5167),x=a(5577),p=a(509),g=a(7627),w=a(15);let f=[{id:1,word:"Hola",pronunciation:"ola",meaning:"안녕",exampleSentence:"\xbfHola, c\xf3mo est\xe1s?",exampleTranslation:"안녕, 어떻게 지내?"},{id:2,word:"Gracias",pronunciation:"grasias",meaning:"고마워",exampleSentence:"Gracias por tu ayuda.",exampleTranslation:"도와줘서 고마워."},{id:3,word:"Amigo",pronunciation:"amigo",meaning:"친구 (남성)",exampleSentence:"\xc9l es mi mejor amigo.",exampleTranslation:"그는 나의 가장 친한 친구야."},{id:4,word:"Familia",pronunciation:"familia",meaning:"가족",exampleSentence:"Mi familia es muy grande.",exampleTranslation:"우리 가족은 대가족이야."},{id:5,word:"Comida",pronunciation:"komida",meaning:"음식",exampleSentence:"La comida espa\xf1ola es deliciosa.",exampleTranslation:"스페인 음식은 맛있어."},{id:6,word:"Agua",pronunciation:"agua",meaning:"물",exampleSentence:"Necesito un vaso de agua.",exampleTranslation:"물 한 잔 필요해요."},{id:7,word:"Casa",pronunciation:"kasa",meaning:"집",exampleSentence:"Mi casa est\xe1 cerca de aqu\xed.",exampleTranslation:"우리 집은 여기서 가까워."},{id:8,word:"Libro",pronunciation:"libro",meaning:"책",exampleSentence:"Estoy leyendo un libro interesante.",exampleTranslation:"나는 재미있는 책을 읽고 있어."},{id:9,word:"Sol",pronunciation:"sol",meaning:"태양",exampleSentence:"El sol brilla hoy.",exampleTranslation:"오늘 해가 빛나네."},{id:10,word:"Feliz",pronunciation:"felis",meaning:"행복한",exampleSentence:"Estoy muy feliz de verte.",exampleTranslation:"너를 보니 정말 행복해."},{id:11,word:"Viajar",pronunciation:"biakhar",meaning:"여행하다",exampleSentence:"Me gusta viajar a otros pa\xedses.",exampleTranslation:"나는 다른 나라로 여행하는 것을 좋아해."},{id:12,word:"M\xfasica",pronunciation:"musika",meaning:"음악",exampleSentence:"\xbfQu\xe9 tipo de m\xfasica te gusta?",exampleTranslation:"어떤 종류의 음악을 좋아해?"},{id:13,word:"Ciudad",pronunciation:"siudad",meaning:"도시",exampleSentence:"Madrid es la capital de Espa\xf1a.",exampleTranslation:"마드리드는 스페인의 수도야."},{id:14,word:"Trabajo",pronunciation:"trabakho",meaning:"일",exampleSentence:"Tengo mucho trabajo hoy.",exampleTranslation:"나 오늘 일이 많아."},{id:15,word:"Estudiar",pronunciation:"estudiar",meaning:"공부하다",exampleSentence:"Voy a estudiar espa\xf1ol.",exampleTranslation:"나는 스페인어를 공부할 거야."}];var b=a(8565),j=a(1206),y=a(7323),v=a(6401),S=a(6031);function k(){var e;let t="spanish-words",{user:a}=(0,s.A)(),{open:k}=(0,l.X)(),{deck:N,setDeck:T,favs:E,toggleFav:C,shuffleDeck:M,resetDeckToInitial:F}=(0,g.c)({user:a,deckType:t,initialDeck:f}),[A,I]=(0,i.useState)(0),[L,P]=(0,i.useState)(!1),[z,_]=(0,i.useState)("single"),[V,D]=(0,i.useState)({}),[O,R]=(0,i.useState)(1),[$,H]=(0,i.useState)(!1),[U,q]=(0,i.useState)(!1),[W,Y]=(0,i.useState)("Lato"),[B,G]=(0,i.useState)(48),[J,X]=(0,i.useState)("일상 회화"),[Q,K]=(0,i.useState)(10),[Z,ee]=(0,i.useState)(!1),{isSupported:et,ready:ea,speakEs:en,selectedVoice:ei,voices:es,selectVoice:el,isSafari:er}=(0,w.c)(),eo=(0,i.useMemo)(()=>U?N.filter(e=>E[e.id]):N,[N,U,E]),{currentCards:ec,totalPages:ed}=(0,i.useMemo)(()=>{let e=Math.ceil(eo.length/10)||1,t=(O-1)*10;return{currentCards:eo.slice(t,t+10),totalPages:e}},[O,eo]),em=(0,i.useCallback)(()=>P(e=>!e),[]),eu=(0,i.useCallback)(()=>{I(e=>(e+1)%Math.max(1,eo.length)),P(!1)},[eo.length]),eh=(0,i.useCallback)(()=>{I(e=>(e-1+Math.max(1,eo.length))%Math.max(1,eo.length)),P(!1)},[eo.length]),ex=()=>{F(),I(0),P(!1),D({}),R(1)};async function ep(e,a){ee(!0);try{let n=await (0,y.x)(t,e,a);T(n),I(0),P(!1),D({}),R(1),alert("'".concat(e,"' 주제의 새 단어 ").concat(n.length,"개를 생성했습니다!"))}catch(t){let e=t instanceof Error?t.message:"알 수 없는 오류가 발생했습니다.";alert("단어 생성에 실패했습니다.\n\n오류: ".concat(e))}finally{ee(!1)}}let eg=null!=(e=eo[A])?e:null,ew=(0,i.useMemo)(()=>b.y[W]||W,[W]);(0,i.useEffect)(()=>{let e=e=>{e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||"single"===z&&("Enter"===e.key||" "===e.key?(e.preventDefault(),em()):"ArrowRight"===e.key?eu():"ArrowLeft"===e.key&&eh())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[z,em,eu,eh]);let ef=(0,S.q)()&&"speechSynthesis"in window;return(0,n.jsxs)("div",{className:"min-h-screen w-full bg-gradient-to-b from-slate-950 via-slate-900 to-slate-800 text-white flex flex-col items-center p-6",style:{fontFamily:ew},children:[(0,n.jsx)("header",{className:"w-full max-w-md mx-auto mb-1",children:(0,n.jsx)(x.R,{name:null==a?void 0:a.nickname,subject:v.a[t]})}),!a&&(0,n.jsx)(p.c,{onLoginClick:()=>k("login")}),"single"===z&&(0,n.jsxs)("div",{className:"mb-4 flex w-full max-w-md items-center justify-between text-sm mx-auto",children:[(0,n.jsxs)("span",{className:"text-white/70",children:["⚡진행률 : ",eo.length?"".concat(Math.min(A+1,eo.length)," / ").concat(eo.length):"0 / 0"]}),ef&&(0,n.jsx)(o.$,{size:"sm",variant:"outline",className:"border-white/10 bg-white/5 hover:bg-white/10",onClick:()=>en((null==eg?void 0:eg.word)||""),disabled:!ea||!eg,children:"\uD83D\uDD0A 듣기 (Palabra)"}),(0,n.jsx)(o.$,{size:"sm",variant:"outline",className:"border-white/10 bg-white/5 hover:bg-white/10",onClick:()=>H(!0),"aria-haspopup":"dialog","aria-expanded":$,title:"설정",children:"⚙️ 설정"}),(0,n.jsx)(r.g,{open:$,onOpenChange:H,user:a,deckType:t,isTtsSupported:et,selectedVoice:ei,selectVoice:el,voices:es,isSafari:er,fontFamily:W,setFontFamily:Y,wordFontSize:B,setWordFontSize:G,resetDeck:ex,topic:J,setTopic:X,wordCount:Q,setWordCount:K,loadingImport:Z,importContent:ep})]}),(0,n.jsx)("main",{className:"w-full max-w-5xl select-none",children:"single"===z?0===eo.length?(0,n.jsx)(d.y,{viewMode:"single"}):eg&&(0,n.jsx)(m,{card:eg,isFlipped:L,isFav:!!E[eg.id],onFlip:em,onToggleFav:()=>C(eg.id),wordFontSize:B},eg.id):0===eo.length?(0,n.jsx)(d.y,{viewMode:"grid"}):(0,n.jsx)(u.o,{variant:"words",cards:ec.map(e=>({id:e.id,katakana:e.word,furigana:"",answer:e.meaning,emoji:"\uD83D\uDC83"})),favs:E,flippedStates:V,onToggleFav:e=>C(e),onToggleCardFlip:e=>D(t=>({...t,[e]:!t[e]})),page:{current:O,total:ed,onPrev:()=>R(e=>Math.max(e-1,1)),onNext:()=>R(e=>Math.min(e+1,ed))}})}),"single"===z&&(0,n.jsx)("div",{className:"mt-4 flex flex-wrap items-center justify-center gap-2 text-sm",children:(0,n.jsx)(h.A,{onPrev:eh,onNext:eu,onShuffle:()=>{M(),I(0),P(!1)},onReset:ex})}),(0,n.jsxs)("div",{className:"mt-4 flex flex-wrap items-center justify-center gap-4 text-sm",children:[a&&(0,n.jsx)(o.$,{variant:"outline",className:"border-white/10 bg-white/5 hover:bg-white/10",onClick:()=>{_(e=>"single"===e?"grid":"single"),P(!1)},children:"single"===z?"여러 장 모아보기":"한 장씩 학습하기"}),(0,n.jsxs)("label",{className:"flex items-center gap-3 px-3 py-2 rounded-xl border-white/10 bg-white/5",children:[(0,n.jsx)("span",{className:"text-white/80 font-semibold",children:"⭐ Only"}),(0,n.jsx)(c.d,{checked:U,onCheckedChange:e=>{q(e),I(0),P(!1),R(1)}})]})]}),(0,n.jsx)("footer",{className:"w-full max-w-md mx-auto mt-6 text-sm text-white/70 bg-white/5 rounded-xl px-4 py-3",children:(0,n.jsxs)("ul",{className:"list-disc list-outside pl-6 space-y-1 leading-relaxed",children:[(0,n.jsx)("li",{children:"⚙️설정에서 TTS Voice, Font, 폰트 크기를 조절할 수 있습니다."}),(0,n.jsx)("li",{children:"⚙️설정에서 AI 단어 추가 학습을 할 수 있습니다."}),(0,n.jsxs)("li",{children:["키보드: ",(0,n.jsx)("kbd",{children:"Enter"})," 카드 뒤집기, ",(0,n.jsx)("kbd",{children:"←/→"})," 이전/다음"]})]})}),(0,n.jsx)("div",{className:"mt-4 text-center",children:(0,n.jsxs)("span",{className:"text-white/40 text-xs",children:["스페인어 공부 v",j.h]})})]})}},6023:(e,t,a)=>{Promise.resolve().then(a.bind(a,4895))},6031:(e,t,a)=>{"use strict";a.d(t,{q:()=>i});var n=a(2115);function i(){let[e,t]=(0,n.useState)(!1);return(0,n.useEffect)(()=>t(!0),[]),e}},6401:(e,t,a)=>{"use strict";a.d(t,{a:()=>n});let n={"katakana-words":"가타카나 단어","katakana-chars":"가타카나 글자","hiragana-chars":"히라가나 글자","sentences-jp":"일본어 문장"}},7323:(e,t,a)=>{"use strict";a.d(t,{x:()=>r});var n,i=a(2587);let s=(null===i.Ii||void 0===i.Ii||null==(n=i.Ii.getPlatform)?void 0:n.call(i.Ii))!=="web",l="https://ssunbae-api.vercel.app/".replace(/\/$/,"");async function r(e,t,a){let n=function(e){if(!s)return e;if(!l)throw Error("NEXT_PUBLIC_API_BASE_URL is not set. Set it in .env.production (build before copy/sync).");return"".concat(l).concat(e)}("/api/generate");try{let i=await fetch(n,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({deckType:e,topic:t,count:a})});if(!i.ok){let e="AI 데이터 생성 실패 (".concat(i.status,")");try{let t=await i.json();e="".concat(t.error||e,"\n\n[세부 정보]\n").concat(t.details||"서버 오류")}catch(a){let t=await i.text();e+="\n\n[서버 응답]\n".concat(t.slice(0,300)).concat(t.length>300?"…":"")}throw Error(e)}let s=i.headers.get("content-type")||"";if(!s.includes("application/json")){let e=await i.text();throw Error("API 응답이 JSON이 아닙니다 (Content-Type: ".concat(s,").\n")+"URL: ".concat(n,"\n응답 미리보기:\n").concat(e.slice(0,300)).concat(e.length>300?"…":""))}return(await i.json()).map((e,t)=>({...e,id:e.id||Date.now()+t}))}catch(e){throw console.error("Error fetching generated content:",e),e}}}},e=>{e.O(0,[135,965,398,707,663,765,968,921,441,255,358],()=>e(e.s=6023)),_N_E=e.O()}]);