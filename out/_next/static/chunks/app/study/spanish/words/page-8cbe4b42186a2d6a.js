(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[573],{15:(e,t,a)=>{"use strict";a.d(t,{c:()=>i});var n=a(2115);function i(){let[e,t]=(0,n.useState)([]),[a,i]=(0,n.useState)(null),[s,r]=(0,n.useState)(!1),[l,o]=(0,n.useState)(!1),c=(0,n.useMemo)(()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent),[]);return(0,n.useEffect)(()=>{if("speechSynthesis"in window){r(!0);let e=()=>{let e=window.speechSynthesis.getVoices().filter(e=>e.lang.startsWith("es-"));if(t(e),e.length>0){let t=localStorage.getItem("selectedEsVoice");i(e.find(e=>e.name===t)||e[0]),o(!0)}};return window.speechSynthesis.onvoiceschanged=e,e(),()=>{window.speechSynthesis.onvoiceschanged=null}}},[]),{isSupported:s,ready:l,speakEs:e=>{if(!s||!l||!a||!e)return;window.speechSynthesis.cancel();let t=new SpeechSynthesisUtterance(e);t.voice=a,t.lang=a.lang,t.rate=.9,window.speechSynthesis.speak(t)},selectedVoice:a,voices:e,selectVoice:e=>{e&&(i(e),localStorage.setItem("selectedEsVoice",e.name))},isSafari:c}}},4895:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>k});var n=a(5155),i=a(2115),s=a(9070),r=a(7325),l=a(8324),o=a(2171),c=a(4643),d=a(5511);let u=e=>{let{card:t,isFlipped:a,isFav:i,onFlip:s,onToggleFav:r,wordFontSize:l}=e;return(0,n.jsx)("div",{className:"[perspective:1200px] w-full max-w-md mx-auto",children:(0,n.jsxs)("div",{role:"button",tabIndex:0,"aria-label":"flip card",onClick:s,className:"relative h-64 md:h-72 transition-transform duration-500 [transform-style:preserve-3d] cursor-pointer",style:{transform:a?"rotateY(180deg)":"rotateY(0deg)"},children:[(0,n.jsxs)("div",{className:"absolute inset-0 bg-card backdrop-blur rounded-2xl shadow-xl border border-border flex flex-col items-center justify-center p-6 [backface-visibility:hidden]",children:[(0,n.jsx)(o.$,{type:"button",size:"icon",variant:"secondary",onClick:e=>{e.stopPropagation(),r()},className:"absolute top-4 right-4 h-9 w-9 rounded-full",title:i?"즐겨찾기 해제":"즐겨찾기 추가",children:(0,n.jsx)("span",{className:"text-xl flex items-center justify-center w-full h-full",children:i?"⭐":"☆"})}),(0,n.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:"카드를 눌러 정답을 확인하세요."}),(0,n.jsx)("div",{className:"text-center w-full",children:(0,n.jsx)("p",{className:"font-semibold leading-snug break-all",style:{fontSize:"".concat(l,"px")},children:t.word})})]}),(0,n.jsx)("div",{className:"absolute inset-0 bg-card backdrop-blur rounded-2xl shadow-xl border border-border flex flex-col items-center justify-center p-6 [transform:rotateY(180deg)] [backface-visibility:hidden]",children:(0,n.jsxs)("div",{className:"text-center w-full",children:[(0,n.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"정답"}),(0,n.jsx)("p",{className:"font-bold answer-text",style:{fontSize:"".concat(.8*l,"px")},children:t.meaning}),(0,n.jsxs)("p",{className:"text-base text-muted-foreground mt-1",children:["(",t.pronunciation,")"]}),(0,n.jsx)("div",{className:"w-full border-t ui-divider my-4"}),(0,n.jsxs)("div",{className:"space-y-1 text-base text-foreground/90",children:[(0,n.jsx)("p",{children:t.exampleSentence}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:t.exampleTranslation})]})]})})]})})};var m=a(7288),x=a(5167),p=a(5577),h=a(509),g=a(7627),f=a(15);let y=[{id:1,word:"Hola",pronunciation:"ola",meaning:"안녕",exampleSentence:"\xbfHola, c\xf3mo est\xe1s?",exampleTranslation:"안녕, 어떻게 지내?"},{id:2,word:"Gracias",pronunciation:"grasias",meaning:"고마워",exampleSentence:"Gracias por tu ayuda.",exampleTranslation:"도와줘서 고마워."},{id:3,word:"Amigo",pronunciation:"amigo",meaning:"친구 (남성)",exampleSentence:"\xc9l es mi mejor amigo.",exampleTranslation:"그는 나의 가장 친한 친구야."},{id:4,word:"Familia",pronunciation:"familia",meaning:"가족",exampleSentence:"Mi familia es muy grande.",exampleTranslation:"우리 가족은 대가족이야."},{id:5,word:"Comida",pronunciation:"komida",meaning:"음식",exampleSentence:"La comida espa\xf1ola es deliciosa.",exampleTranslation:"스페인 음식은 맛있어."},{id:6,word:"Agua",pronunciation:"agua",meaning:"물",exampleSentence:"Necesito un vaso de agua.",exampleTranslation:"물 한 잔 필요해요."},{id:7,word:"Casa",pronunciation:"kasa",meaning:"집",exampleSentence:"Mi casa est\xe1 cerca de aqu\xed.",exampleTranslation:"우리 집은 여기서 가까워."},{id:8,word:"Libro",pronunciation:"libro",meaning:"책",exampleSentence:"Estoy leyendo un libro interesante.",exampleTranslation:"나는 재미있는 책을 읽고 있어."},{id:9,word:"Sol",pronunciation:"sol",meaning:"태양",exampleSentence:"El sol brilla hoy.",exampleTranslation:"오늘 해가 빛나네."},{id:10,word:"Feliz",pronunciation:"felis",meaning:"행복한",exampleSentence:"Estoy muy feliz de verte.",exampleTranslation:"너를 보니 정말 행복해."},{id:11,word:"Viajar",pronunciation:"biakhar",meaning:"여행하다",exampleSentence:"Me gusta viajar a otros pa\xedses.",exampleTranslation:"나는 다른 나라로 여행하는 것을 좋아해."},{id:12,word:"M\xfasica",pronunciation:"musika",meaning:"음악",exampleSentence:"\xbfQu\xe9 tipo de m\xfasica te gusta?",exampleTranslation:"어떤 종류의 음악을 좋아해?"},{id:13,word:"Ciudad",pronunciation:"siudad",meaning:"도시",exampleSentence:"Madrid es la capital de Espa\xf1a.",exampleTranslation:"마드리드는 스페인의 수도야."},{id:14,word:"Trabajo",pronunciation:"trabakho",meaning:"일",exampleSentence:"Tengo mucho trabajo hoy.",exampleTranslation:"나 오늘 일이 많아."},{id:15,word:"Estudiar",pronunciation:"estudiar",meaning:"공부하다",exampleSentence:"Voy a estudiar espa\xf1ol.",exampleTranslation:"나는 스페인어를 공부할 거야."}];var b=a(8565),j=a(7323),w=a(6401),v=a(5054),N=a(4936),S=a(6031);function k(){var e;let t="spanish-words",{user:a}=(0,s.A)(),{open:k}=(0,r.X)(),{deck:T,setDeck:E,favs:C,toggleFav:A,shuffleDeck:F,resetDeckToInitial:I}=(0,g.c)({user:a,deckType:t,initialDeck:y}),[O,_]=(0,i.useState)(0),[z,M]=(0,i.useState)(!1),[P,R]=(0,i.useState)("single"),[D,L]=(0,i.useState)({}),[U,V]=(0,i.useState)(1),[G,$]=(0,i.useState)(!1),[Y,H]=(0,i.useState)(!1),[J,q]=(0,i.useState)("Lato"),[W,B]=(0,i.useState)(48),[K,Q]=(0,i.useState)("일상 회화"),[X,Z]=(0,i.useState)(10),[ee,et]=(0,i.useState)(!1),{isSupported:ea,ready:en,speakEs:ei,selectedVoice:es,voices:er,selectVoice:el,isSafari:eo}=(0,f.c)(),ec=(0,i.useMemo)(()=>Y?T.filter(e=>C[e.id]):T,[T,Y,C]),{currentCards:ed,totalPages:eu}=(0,i.useMemo)(()=>{let e=Math.ceil(ec.length/10)||1,t=(U-1)*10;return{currentCards:ec.slice(t,t+10),totalPages:e}},[U,ec]),em=(0,i.useCallback)(()=>M(e=>!e),[]),ex=(0,i.useCallback)(()=>{_(e=>(e+1)%Math.max(1,ec.length)),M(!1)},[ec.length]),ep=(0,i.useCallback)(()=>{_(e=>(e-1+Math.max(1,ec.length))%Math.max(1,ec.length)),M(!1)},[ec.length]),eh=()=>{I(),_(0),M(!1),L({}),V(1)},{importContent:eg}=(0,v.h)({deckType:t,setDeck:E,setIndex:_,setFlipped:M,setFlippedStates:L,setCurrentPage:V,setLoadingImport:et,fetchGeneratedContent:j.x,errorFallback:N.UU.CONTENT_GENERATION_FAILED}),ef=null!=(e=ec[O])?e:null,ey=(0,i.useMemo)(()=>b.y[J]||J,[J]);(0,i.useEffect)(()=>{let e=e=>{e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||"single"===P&&("Enter"===e.key||" "===e.key?(e.preventDefault(),em()):"ArrowRight"===e.key?ex():"ArrowLeft"===e.key&&ep())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[P,em,ex,ep]);let eb=(0,S.q)()&&"speechSynthesis"in window;return(0,n.jsxs)("div",{className:"min-h-screen w-full flex flex-col items-center p-6",style:{fontFamily:ey},children:[(0,n.jsx)("header",{className:"w-full max-w-md mx-auto mb-1",children:(0,n.jsx)(p.R,{name:(null==a?void 0:a.nickname)||void 0,subject:w.a[t]})}),!a&&(0,n.jsx)(h.c,{onLoginClick:()=>k("login")}),"single"===P&&(0,n.jsxs)("div",{className:"mb-4 flex w-full max-w-md items-center justify-between text-sm mx-auto",children:[(0,n.jsxs)("span",{className:"text-muted-foreground",children:["⚡진행률 : ",ec.length?"".concat(Math.min(O+1,ec.length)," / ").concat(ec.length):"0 / 0"]}),eb&&(0,n.jsx)(o.$,{size:"sm",variant:"outline",onClick:()=>ei((null==ef?void 0:ef.word)||""),disabled:!en||!ef,children:"\uD83D\uDD0A 듣기 (Palabra)"}),(0,n.jsx)(o.$,{size:"sm",variant:"outline",onClick:()=>$(!0),"aria-haspopup":"dialog","aria-expanded":G,title:"설정",children:"⚙️ 설정"}),(0,n.jsx)(l.g,{open:G,onOpenChange:$,user:a,deckType:t,isTtsSupported:ea,selectedVoice:es,selectVoice:el,voices:er,isSafari:eo,fontFamily:J,setFontFamily:q,wordFontSize:W,setWordFontSize:B,resetDeck:eh,topic:K,setTopic:Q,wordCount:X,setWordCount:Z,loadingImport:ee,importContent:eg})]}),(0,n.jsx)("main",{className:"w-full max-w-5xl select-none",children:"single"===P?0===ec.length?(0,n.jsx)(d.y,{viewMode:"single"}):ef&&(0,n.jsx)(u,{card:ef,isFlipped:z,isFav:!!C[ef.id],onFlip:em,onToggleFav:()=>A(ef.id),wordFontSize:W},ef.id):0===ec.length?(0,n.jsx)(d.y,{viewMode:"grid"}):(0,n.jsx)(m.o,{variant:"words",cards:ed.map(e=>({id:e.id,katakana:e.word,furigana:"",answer:e.meaning,emoji:"\uD83D\uDC83"})),favs:C,flippedStates:D,onToggleFav:e=>A(e),onToggleCardFlip:e=>L(t=>({...t,[e]:!t[e]})),page:{current:U,total:eu,onPrev:()=>V(e=>Math.max(e-1,1)),onNext:()=>V(e=>Math.min(e+1,eu))}})}),"single"===P&&(0,n.jsx)("div",{className:"mt-4 flex flex-wrap items-center justify-center gap-2 text-sm",children:(0,n.jsx)(x.A,{onPrev:ep,onNext:ex,onShuffle:()=>{F(),_(0),M(!1)},onReset:eh})}),(0,n.jsxs)("div",{className:"mt-4 flex flex-wrap items-center justify-center gap-4 text-sm",children:[a&&(0,n.jsx)(o.$,{variant:"outline",onClick:()=>{R(e=>"single"===e?"grid":"single"),M(!1)},children:"single"===P?"여러 장 모아보기":"한 장씩 학습하기"}),(0,n.jsxs)("label",{className:"flex items-center gap-3 px-3 py-2 rounded-xl border border-border bg-card",children:[(0,n.jsx)("span",{className:"text-foreground font-semibold",children:"⭐ Only"}),(0,n.jsx)(c.d,{checked:Y,onCheckedChange:e=>{H(e),_(0),M(!1),V(1)}})]})]}),(0,n.jsx)("footer",{className:"w-full max-w-md mx-auto mt-6 text-sm text-muted-foreground bg-card/50 border border-border rounded-xl px-4 py-3",children:(0,n.jsxs)("ul",{className:"list-disc list-outside pl-6 space-y-1 leading-relaxed",children:[(0,n.jsx)("li",{children:"⚙️설정에서 TTS Voice, Font, 폰트 크기를 조절할 수 있습니다."}),(0,n.jsx)("li",{children:"⚙️설정에서 AI 단어 추가 학습을 할 수 있습니다."}),(0,n.jsxs)("li",{children:["키보드: ",(0,n.jsx)("kbd",{children:"Enter"})," 카드 뒤집기, ",(0,n.jsx)("kbd",{children:"←/→"})," 이전/다음"]})]})})]})}},4936:(e,t,a)=>{"use strict";a.d(t,{BO:()=>i,UU:()=>n});let n={DEFAULT:"문제가 발생했습니다. 다시 시도해주세요.",CONTENT_GENERATION_FAILED:"콘텐츠 생성에 실패했습니다. 잠시 후 다시 시도해주세요.",CANNOT_PARSE_SERVER_RESPONSE:"서버 응답을 처리하는 데 실패했습니다. 잠시 후 다시 시도해주세요.",INVALIDE_TOPIC:"주제가 너무 짧거나 부적절합니다. 더 구체적으로 입력해주세요.",AUTH_REQUIRED:"이 기능을 사용하려면 로그인이 필요합니다."},i={GUIDE_TTS_FONT:"⚙️ 설정에서 TTS Voice, Font, 폰트 크기를 조절할 수 있습니다.",GUIDE_AI_STUDY:"⚙️ 설정에서 AI 단어 추가 학습을 할 수 있습니다.",KEYBOARD_GUIDE:{PREFIX:"키보드 : ",ENTER:"카드 뒤집기 ",ARROWS:" 이전/다음"},APP_INFO:e=>"가타카나 공부 v".concat(e),GITHUB_LINK:"SsunLee@github"}},5054:(e,t,a)=>{"use strict";a.d(t,{h:()=>l});var n=a(2115),i=a(8720);let s={success:(e,t)=>i.oR.success(e,{description:t}),error:(e,t)=>i.oR.error(e,{description:t,duration:3200})};async function r(e){let{deckType:t,topic:a,count:n,setDeck:i,setIndex:r,setFlipped:l,setFlippedStates:o,setCurrentPage:c,setLoadingImport:d,closeSettings:u,fetchGeneratedContent:m,successMessage:x=(e,t)=>"주제: ".concat(e," \xb7 ").concat(t,"개 생성"),errorFallback:p="콘텐츠 생성에 실패했습니다."}=e;u&&(u(),await new Promise(e=>requestAnimationFrame(()=>requestAnimationFrame(()=>e())))),d(!0);try{let e=await m(t,a,n);i(e),r(0),l(!1),o({}),c(1),s.success("AI 단어 생성 완료","주제: ".concat(a," \xb7 ").concat(e.length,"개 생성"))}catch(t){var h;let e=null!=(h=null==t?void 0:t.message)?h:p;console.error("콘텐츠 생성 오류:",t),s.error("생성 실패",e)}finally{d(!1);try{document.body.style.overflow=""}catch(e){}}}function l(e){return{importContent:(0,n.useCallback)((t,a)=>r({...e,topic:t,count:a}),[e])}}},6023:(e,t,a)=>{Promise.resolve().then(a.bind(a,4895))},7288:(e,t,a)=>{"use strict";a.d(t,{o:()=>s});var n=a(5155);a(2115);var i=a(2171);function s(e){let{cards:t,favs:a,flippedStates:s,onToggleFav:r,onToggleCardFlip:l,page:o,variant:c="words",renderFront:d,renderBack:u}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"flex flex-wrap justify-center gap-4",children:t.map(e=>(0,n.jsx)("div",{className:"w-40 [perspective:1200px] cursor-pointer group",onClick:()=>l(e.id),children:(0,n.jsxs)("div",{className:"relative h-48 w-full transition-transform duration-500 [transform-style:preserve-3d] rounded-lg",style:{transform:s[e.id]?"rotateY(180deg)":"rotateY(0deg)"},children:[(0,n.jsxs)("div",{className:"absolute inset-0 bg-card flex flex-col items-center justify-center text-center p-2 rounded-lg border border-border [backface-visibility:hidden]",children:[(0,n.jsx)(i.$,{type:"button",size:"icon",variant:"secondary",onClick:t=>{t.stopPropagation(),r(e.id)},className:"absolute top-2 right-2 h-7 w-7 rounded-full",title:a[e.id]?"즐겨찾기 해제":"즐겨찾기 추가",children:(0,n.jsx)("span",{className:"text-md flex items-center justify-center w-full h-full",children:a[e.id]?"⭐":"☆"})}),d?d(e):"chars"===c?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"text-6xl font-semibold break-all px-2",children:e.katakana})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"text-2xl font-semibold break-all px-2",children:e.katakana}),(0,n.jsx)("div",{className:"text-sm text-muted-foreground mt-1",children:e.furigana})]})]}),(0,n.jsx)("div",{className:"absolute inset-0 bg-card flex flex-col items-center justify-center text-center p-2 rounded-lg border border-border [transform:rotateY(180deg)] [backface-visibility:hidden]",children:u?u(e):"chars"===c?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"text-5xl font-semibold break-all",children:e.furigana}),(0,n.jsx)("div",{className:"text-2xl mt-1",children:e.emoji}),(0,n.jsx)("div",{className:"text-sm text-muted-foreground mt-1 text-center",children:e.answer})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"text-lg font-semibold break-all",children:e.answer}),(0,n.jsx)("div",{className:"text-2xl mt-1",children:e.emoji}),(0,n.jsxs)("div",{className:"text-xs text-muted-foreground mt-2",children:["(",function(e){if(!e)return"";let t={きゃ:"kya",きゅ:"kyu",きょ:"kyo",ぎゃ:"gya",ぎゅ:"gyu",ぎょ:"gyo",しゃ:"sya",しゅ:"syu",しょ:"syo",じゃ:"zya",じゅ:"zyu",じょ:"zyo",ちゃ:"tya",ちゅ:"tyu",ちょ:"tyo",にゃ:"nya",にゅ:"nyu",にょ:"nyo",ひゃ:"hya",ひゅ:"hyu",ひょ:"hyo",みゃ:"mya",みゅ:"myu",みょ:"myo",りゃ:"rya",りゅ:"ryu",りょ:"ryo",びゃ:"bya",びゅ:"byu",びょ:"byo",ぴゃ:"pya",ぴゅ:"pyu",ぴょ:"pyo"},a={あ:"a",い:"i",う:"u",え:"e",お:"o",か:"ka",き:"ki",く:"ku",け:"ke",こ:"ko",さ:"sa",し:"shi",す:"su",せ:"se",そ:"so",た:"ta",ち:"chi",つ:"tsu",て:"te",と:"to",な:"na",に:"ni",ぬ:"nu",ね:"ne",の:"no",は:"ha",ひ:"hi",ふ:"fu",へ:"he",ほ:"ho",ま:"ma",み:"mi",む:"mu",め:"me",も:"mo",や:"ya",ゆ:"yu",よ:"yo",ら:"ra",り:"ri",る:"ru",れ:"re",ろ:"ro",わ:"wa",を:"o",ん:"n",が:"ga",ぎ:"gi",ぐ:"gu",げ:"ge",ご:"go",ざ:"za",じ:"ji",ず:"zu",ぜ:"ze",ぞ:"zo",だ:"da",ぢ:"ji",づ:"zu",で:"de",ど:"do",ば:"ba",び:"bi",ぶ:"bu",べ:"be",ぼ:"bo",ぱ:"pa",ぴ:"pi",ぷ:"pu",ぺ:"pe",ぽ:"po",ぁ:"a",ぃ:"i",ぅ:"u",ぇ:"e",ぉ:"o",ゃ:"ya",ゅ:"yu",ょ:"yo",っ:"*",ー:"-"},n=0,i="",s=["a","i","u","e","o"],r=n=>{let i=e.slice(n,n+2);return t[i]?t[i]:a[e[n]]||""};for(;n<e.length;){let l=e.slice(n,n+2);if(t[l]){i+=t[l],n+=2;continue}let o=e[n];if("っ"===o){let e=r(n+1);e&&(i+=e[0]),n+=1;continue}if("ー"===o){let e=Array.from(i).reverse().find(e=>s.includes(e));e&&(i+=e),n+=1;continue}i+=a[o]||o,n+=1}return i.replace(/n([yaeiou])/g,"n'$1")}(e.furigana),")"]})]})})]})},e.id))}),o&&o.total>1&&(0,n.jsxs)("div",{className:"mt-6 flex items-center justify-center gap-4 text-foreground",children:[(0,n.jsx)(i.$,{onClick:o.onPrev,disabled:1===o.current,size:"sm",variant:"outline",children:"이전"}),(0,n.jsxs)("span",{children:[o.current," / ",o.total]}),(0,n.jsx)(i.$,{onClick:o.onNext,disabled:o.current===o.total,size:"sm",variant:"outline",children:"다음"})]})]})}},7323:(e,t,a)=>{"use strict";a.d(t,{x:()=>r});var n,i=a(2587);null===i.Ii||void 0===i.Ii||null==(n=i.Ii.getPlatform)||n.call(i.Ii);let s="https://ssunbae-api.vercel.app/".replace(/\/$/,"");async function r(e,t,a){var n;let i,r=(n="/api/generate",s?"".concat(s).concat(n):n),l=await fetch(r,{method:"POST",mode:"cors",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify({deckType:e,topic:t,count:a})}),o=await l.text(),c=l.headers.get("content-type")||"";if(!l.ok){let e="AI 데이터 생성 실패 (".concat(l.status," ").concat(l.statusText,")");try{if(o){let t=JSON.parse(o);e="".concat(t.error||e,"\n\n[세부 정보]\n").concat(t.details||"서버 오류")}}catch(t){e+="\n\n[서버 응답]\n".concat(o.slice(0,300)).concat(o.length>300?"…":"")}throw Error(e)}if(!c.includes("application/json"))throw Error("API 응답이 JSON이 아닙니다 (Content-Type: ".concat(c,").\nURL: ").concat(r,"\n")+"응답 미리보기:\n".concat(o.slice(0,300)).concat(o.length>300?"…":""));try{i=o?JSON.parse(o):[]}catch(e){throw Error("API 응답 JSON 파싱에 실패했습니다.")}return i.map((e,t)=>({...e,id:e.id||Date.now()+t}))}}},e=>{e.O(0,[992,811,707,549,663,765,720,47,441,255,358],()=>e(e.s=6023)),_N_E=e.O()}]);