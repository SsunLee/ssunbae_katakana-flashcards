(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[17],{391:(a,e,n)=>{"use strict";n.d(e,{g:()=>t});var r=n(5155);n(2115);var i=n(2171);let t=a=>{let{card:e,deckType:n,isFlipped:t,isFav:o,onFlip:s,onToggleFav:l,fontSize:k}=a,d=n.endsWith("-chars");return(0,r.jsx)("div",{className:"[perspective:1200px] w-full max-w-md mx-auto",children:(0,r.jsxs)("div",{role:"button",tabIndex:0,"aria-label":"flip card",onClick:s,className:"relative h-64 md:h-72 transition-transform duration-500 [transform-style:preserve-3d] cursor-pointer",style:{transform:t?"rotateY(180deg)":"rotateY(0deg)"},children:[(0,r.jsxs)("div",{className:"absolute inset-0 bg-card backdrop-blur rounded-2xl shadow-xl border border-border flex flex-col items-center justify-center p-6 [backface-visibility:hidden]",children:[(0,r.jsx)(i.$,{type:"button",size:"icon",variant:"secondary",onClick:a=>{a.stopPropagation(),l()},className:"absolute top-4 right-4 h-9 w-9 rounded-full",title:o?"즐겨찾기 해제":"즐겨찾기 추가",children:(0,r.jsx)("span",{className:"text-xl flex items-center justify-center w-full h-full text-foreground",children:o?"⭐":"☆"})}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground mb-10",children:"카드를 클릭하여 뜻을 확인하세요"}),(0,r.jsx)("div",{className:"text-center w-full text-foreground",children:d?(0,r.jsx)("p",{className:"font-semibold leading-none",style:{fontSize:"".concat(k||96,"px")},children:e.katakana}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"font-semibold leading-snug",style:{fontSize:"".concat(k||48,"px")},children:e.katakana}),(0,r.jsx)("p",{className:"mt-2 text-lg text-muted-foreground",children:e.furigana})]})})]}),(0,r.jsx)("div",{className:"absolute inset-0 bg-card/95 backdrop-blur rounded-2xl shadow-xl border border-border flex flex-col items-center justify-center p-6 [transform:rotateY(180deg)] [backface-visibility:hidden]",children:(0,r.jsxs)("div",{className:"text-center w-full text-foreground",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"정답"}),d?(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("p",{className:"font-bold answer-text",style:{fontSize:"".concat(.8*(k||96),"px")},children:e.furigana}),(0,r.jsx)("div",{className:"w-full my-4 ui-divider"}),(0,r.jsxs)("p",{className:"text-xl text-secondary-foreground mt-2",children:[e.emoji,e.answer]})]}):(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsxs)("p",{className:"font-bold answer-text",style:{fontSize:"".concat(.9*(k||48),"px")},children:[e.answer," ",(0,r.jsx)("span",{className:"align-middle text-3xl",children:e.emoji})]}),(0,r.jsx)("div",{className:"w-full my-4 ui-divider"}),(0,r.jsxs)("p",{className:"text-base text-muted-foreground mt-1",children:["(",e.katakana,")"]})]})]})})]})})}},4936:(a,e,n)=>{"use strict";n.d(e,{BO:()=>i,UU:()=>r});let r={DEFAULT:"문제가 발생했습니다. 다시 시도해주세요.",CONTENT_GENERATION_FAILED:"콘텐츠 생성에 실패했습니다. 잠시 후 다시 시도해주세요.",CANNOT_PARSE_SERVER_RESPONSE:"서버 응답을 처리하는 데 실패했습니다. 잠시 후 다시 시도해주세요.",INVALIDE_TOPIC:"주제가 너무 짧거나 부적절합니다. 더 구체적으로 입력해주세요.",AUTH_REQUIRED:"이 기능을 사용하려면 로그인이 필요합니다."},i={GUIDE_TTS_FONT:"⚙️ 설정에서 TTS Voice, Font, 폰트 크기를 조절할 수 있습니다.",GUIDE_AI_STUDY:"⚙️ 설정에서 AI 단어 추가 학습을 할 수 있습니다.",KEYBOARD_GUIDE:{PREFIX:"키보드 : ",ENTER:"카드 뒤집기 ",ARROWS:" 이전/다음"},APP_INFO:a=>"가타카나 공부 v".concat(a),GITHUB_LINK:"SsunLee@github"}},5054:(a,e,n)=>{"use strict";n.d(e,{h:()=>s});var r=n(2115),i=n(8720);let t={success:(a,e)=>i.oR.success(a,{description:e}),error:(a,e)=>i.oR.error(a,{description:e,duration:3200})};async function o(a){let{deckType:e,topic:n,count:r,setDeck:i,setIndex:o,setFlipped:s,setFlippedStates:l,setCurrentPage:k,setLoadingImport:d,closeSettings:c,fetchGeneratedContent:u,successMessage:m=(a,e)=>"주제: ".concat(a," \xb7 ").concat(e,"개 생성"),errorFallback:f="콘텐츠 생성에 실패했습니다."}=a;c&&(c(),await new Promise(a=>requestAnimationFrame(()=>requestAnimationFrame(()=>a())))),d(!0);try{let a=await u(e,n,r);i(a),o(0),s(!1),l({}),k(1),t.success("AI 단어 생성 완료","주제: ".concat(n," \xb7 ").concat(a.length,"개 생성"))}catch(e){var g;let a=null!=(g=null==e?void 0:e.message)?g:f;console.error("콘텐츠 생성 오류:",e),t.error("생성 실패",a)}finally{d(!1);try{document.body.style.overflow=""}catch(a){}}}function s(a){return{importContent:(0,r.useCallback)((e,n)=>o({...a,topic:e,count:n}),[a])}}},5246:(a,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(2115);let i=()=>"speechSynthesis"in window,t=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent);function o(){let[a,e]=(0,r.useState)([]),[n,o]=(0,r.useState)(null),[s]=(0,r.useState)(i),[l]=(0,r.useState)(t),[k,d]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(!s)return;let a=()=>{let a=window.speechSynthesis.getVoices();if(0===a.length)return;let n=a.filter(a=>a.lang.startsWith("ja"));if(e(n),n.length>0){let a=localStorage.getItem("jaVoiceName");o(n.find(e=>e.name===a)||n[0]),d(!0)}};return window.speechSynthesis.addEventListener("voiceschanged",a),a(),()=>{window.speechSynthesis.removeEventListener("voiceschanged",a)}},[s]);let c=(0,r.useCallback)(a=>{if(a){o(a);try{localStorage.setItem("jaVoiceName",a.name)}catch(a){console.error("Failed to save voice to localStorage",a)}}},[]),u=(0,r.useCallback)(a=>{if(k&&n&&a){window.speechSynthesis.cancel();let e=new SpeechSynthesisUtterance(a);e.voice=n,e.lang=n.lang,window.speechSynthesis.speak(e)}},[k,n]);return{isSupported:s,ready:k,speakJa:u,selectedVoice:n,voices:a,selectVoice:c,isSafari:l}}},5359:(a,e,n)=>{Promise.resolve().then(n.bind(n,7682))},7323:(a,e,n)=>{"use strict";n.d(e,{x:()=>o});var r,i=n(2587);null===i.Ii||void 0===i.Ii||null==(r=i.Ii.getPlatform)||r.call(i.Ii);let t="https://ssunbae-api.vercel.app/".replace(/\/$/,"");async function o(a,e,n){var r;let i,o=(r="/api/generate",t?"".concat(t).concat(r):r),s=await fetch(o,{method:"POST",mode:"cors",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify({deckType:a,topic:e,count:n})}),l=await s.text(),k=s.headers.get("content-type")||"";if(!s.ok){let a="AI 데이터 생성 실패 (".concat(s.status," ").concat(s.statusText,")");try{if(l){let e=JSON.parse(l);a="".concat(e.error||a,"\n\n[세부 정보]\n").concat(e.details||"서버 오류")}}catch(e){a+="\n\n[서버 응답]\n".concat(l.slice(0,300)).concat(l.length>300?"…":"")}throw Error(a)}if(!k.includes("application/json"))throw Error("API 응답이 JSON이 아닙니다 (Content-Type: ".concat(k,").\nURL: ").concat(o,"\n")+"응답 미리보기:\n".concat(l.slice(0,300)).concat(l.length>300?"…":""));try{i=l?JSON.parse(l):[]}catch(a){throw Error("API 응답 JSON 파싱에 실패했습니다.")}return i.map((a,e)=>({...a,id:a.id||Date.now()+e}))}},7682:(a,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>E});var r=n(5155),i=n(2115),t=n(9070),o=n(8324),s=n(2171),l=n(4643),k=n(5511),d=n(391),c=n(7288),u=n(5167),m=n(5577),f=n(509),g=n(5246),j=n(7627);let w=[{id:1,katakana:"タクシー",furigana:"たくしー",answer:"Taxi",emoji:"\uD83D\uDE96",korean:"택시"},{id:2,katakana:"バス",furigana:"ばす",answer:"Bus",emoji:"\uD83D\uDE8C",korean:"버스"},{id:3,katakana:"コーヒー",furigana:"こーひー",answer:"Coffee",emoji:"☕",korean:"커피"},{id:4,katakana:"レストラン",furigana:"れすとらん",answer:"Restaurant",emoji:"\uD83C\uDF7D️",korean:"레스토랑"},{id:5,katakana:"コンピューター",furigana:"こんぴゅーたー",answer:"Computer",emoji:"\uD83D\uDCBB",korean:"컴퓨터"},{id:6,katakana:"ドア",furigana:"どあ",answer:"Door",emoji:"\uD83D\uDEAA",korean:"문"},{id:7,katakana:"ノート",furigana:"のーと",answer:"Notebook",emoji:"\uD83D\uDCD2",korean:"노트"},{id:8,katakana:"エレベーター",furigana:"えれべーたー",answer:"Elevator",emoji:"\uD83D\uDED7",korean:"엘리베이터"},{id:9,katakana:"エスカレーター",furigana:"えすかれーたー",answer:"Escalator",emoji:"⬆️",korean:"에스컬레이터"},{id:10,katakana:"アイスクリーム",furigana:"あいすくりーむ",answer:"Ice cream",emoji:"\uD83C\uDF68",korean:"아이스크림"},{id:11,katakana:"サンドイッチ",furigana:"さんどいっち",answer:"Sandwich",emoji:"\uD83E\uDD6A",korean:"샌드위치"},{id:12,katakana:"テーブル",furigana:"てーぶる",answer:"Table",emoji:"\uD83E\uDE91",korean:"테이블"},{id:13,katakana:"テレビ",furigana:"てれび",answer:"Television",emoji:"\uD83D\uDCFA",korean:"텔레비전"},{id:14,katakana:"ラジオ",furigana:"らじお",answer:"Radio",emoji:"\uD83D\uDCFB",korean:"라디오"},{id:15,katakana:"カメラ",furigana:"かめら",answer:"Camera",emoji:"\uD83D\uDCF7",korean:"카메라"},{id:16,katakana:"スマホ",furigana:"すまほ",answer:"Smartphone",emoji:"\uD83D\uDCF1",korean:"스마트폰"},{id:17,katakana:"メール",furigana:"めーる",answer:"Mail",emoji:"✉️",korean:"메일"},{id:18,katakana:"ゲーム",furigana:"げーむ",answer:"Game",emoji:"\uD83C\uDFAE",korean:"게임"},{id:19,katakana:"アプリ",furigana:"あぷり",answer:"App",emoji:"\uD83D\uDCF2",korean:"앱"},{id:20,katakana:"ホテル",furigana:"ほてる",answer:"Hotel",emoji:"\uD83C\uDFE8",korean:"호텔"},{id:21,katakana:"コンビニ",furigana:"こんびに",answer:"Convenience store",emoji:"\uD83C\uDFEA",korean:"편의점"},{id:22,katakana:"スーパー",furigana:"すーぱー",answer:"Supermarket",emoji:"\uD83D\uDED2",korean:"슈퍼마켓"},{id:23,katakana:"デパート",furigana:"でぱーと",answer:"Department store",emoji:"\uD83C\uDFEC",korean:"백화점"},{id:24,katakana:"ショッピング",furigana:"しょっぴんぐ",answer:"Shopping",emoji:"\uD83D\uDECD️",korean:"쇼핑"},{id:25,katakana:"パン",furigana:"ぱん",answer:"Bread",emoji:"\uD83C\uDF5E",korean:"빵"},{id:26,katakana:"ピザ",furigana:"ぴざ",answer:"Pizza",emoji:"\uD83C\uDF55",korean:"피자"},{id:27,katakana:"ハンバーガー",furigana:"はんばーがー",answer:"Hamburger",emoji:"\uD83C\uDF54",korean:"햄버거"},{id:28,katakana:"ステーキ",furigana:"すてーき",answer:"Steak",emoji:"\uD83E\uDD69",korean:"스테이크"},{id:29,katakana:"サラダ",furigana:"さらだ",answer:"Salad",emoji:"\uD83E\uDD57",korean:"샐러드"},{id:30,katakana:"フルーツ",furigana:"ふるーつ",answer:"Fruits",emoji:"\uD83C\uDF4E",korean:"과일"},{id:31,katakana:"オレンジ",furigana:"おれんじ",answer:"Orange",emoji:"\uD83C\uDF4A",korean:"오렌지"},{id:32,katakana:"バナナ",furigana:"ばなな",answer:"Banana",emoji:"\uD83C\uDF4C",korean:"바나나"},{id:33,katakana:"イチゴ",furigana:"いちご",answer:"Strawberry",emoji:"\uD83C\uDF53",korean:"딸기"},{id:34,katakana:"スイカ",furigana:"すいか",answer:"Watermelon",emoji:"\uD83C\uDF49",korean:"수박"},{id:35,katakana:"レモン",furigana:"れもん",answer:"Lemon",emoji:"\uD83C\uDF4B",korean:"레몬"},{id:36,katakana:"ミルク",furigana:"みるく",answer:"Milk",emoji:"\uD83E\uDD5B",korean:"우유"},{id:37,katakana:"ジュース",furigana:"じゅーす",answer:"Juice",emoji:"\uD83E\uDDC3",korean:"주스"},{id:38,katakana:"ビール",furigana:"びーる",answer:"Beer",emoji:"\uD83C\uDF7A",korean:"맥주"},{id:39,katakana:"ワイン",furigana:"わいん",answer:"Wine",emoji:"\uD83C\uDF77",korean:"와인"},{id:40,katakana:"ウイスキー",furigana:"ういすきー",answer:"Whiskey",emoji:"\uD83E\uDD43",korean:"위스키"},{id:41,katakana:"タバコ",furigana:"たばこ",answer:"Cigarette",emoji:"\uD83D\uDEAC",korean:"담배"},{id:42,katakana:"ニュース",furigana:"にゅーす",answer:"News",emoji:"\uD83D\uDCF0",korean:"뉴스"},{id:43,katakana:"スポーツ",furigana:"すぽーつ",answer:"Sports",emoji:"⚽",korean:"스포츠"},{id:44,katakana:"サッカー",furigana:"さっかー",answer:"Soccer",emoji:"⚽",korean:"축구"},{id:45,katakana:"テニス",furigana:"てにす",answer:"Tennis",emoji:"\uD83C\uDFBE",korean:"테니스"},{id:46,katakana:"ゴルフ",furigana:"ごるふ",answer:"Golf",emoji:"\uD83C\uDFCC️",korean:"골프"},{id:47,katakana:"バレーボール",furigana:"ばれーぼーる",answer:"Volleyball",emoji:"\uD83C\uDFD0",korean:"배구"},{id:48,katakana:"バスケットボール",furigana:"ばすけっとぼーる",answer:"Basketball",emoji:"\uD83C\uDFC0",korean:"농구"},{id:49,katakana:"ランニング",furigana:"らんにんぐ",answer:"Running",emoji:"\uD83C\uDFC3",korean:"러닝"},{id:50,katakana:"ヨガ",furigana:"よが",answer:"Yoga",emoji:"\uD83E\uDDD8",korean:"요가"},{id:51,katakana:"トレーニング",furigana:"とれーにんぐ",answer:"Training",emoji:"\uD83C\uDFCB️",korean:"트레이닝"},{id:52,katakana:"サウナ",furigana:"さうな",answer:"Sauna",emoji:"\uD83E\uDDD6",korean:"사우나"},{id:53,katakana:"プール",furigana:"ぷーる",answer:"Pool",emoji:"\uD83C\uDFCA",korean:"수영장"},{id:54,katakana:"ビーチ",furigana:"びーち",answer:"Beach",emoji:"\uD83C\uDFD6️",korean:"해변"},{id:55,katakana:"ホテル",furigana:"ほてる",answer:"Hotel",emoji:"\uD83C\uDFE8",korean:"호텔"},{id:56,katakana:"パスポート",furigana:"ぱすぽーと",answer:"Passport",emoji:"\uD83D\uDEC2",korean:"여권"},{id:57,katakana:"チケット",furigana:"ちけっと",answer:"Ticket",emoji:"\uD83C\uDFAB",korean:"티켓"},{id:58,katakana:"バッグ",furigana:"ばっぐ",answer:"Bag",emoji:"\uD83D\uDC5C",korean:"가방"},{id:59,katakana:"スーツケース",furigana:"すーつけーす",answer:"Suitcase",emoji:"\uD83E\uDDF3",korean:"여행가방"},{id:60,katakana:"マップ",furigana:"まっぷ",answer:"Map",emoji:"\uD83D\uDDFA️",korean:"지도"},{id:61,katakana:"タクシー",furigana:"たくしー",answer:"Taxi",emoji:"\uD83D\uDE96",korean:"택시"},{id:62,katakana:"トラック",furigana:"とらっく",answer:"Truck",emoji:"\uD83D\uDE9A",korean:"트럭"},{id:63,katakana:"バイク",furigana:"ばいく",answer:"Bike",emoji:"\uD83C\uDFCD️",korean:"오토바이"},{id:64,katakana:"モーター",furigana:"もーたー",answer:"Motor",emoji:"⚙️",korean:"모터"},{id:65,katakana:"エンジン",furigana:"えんじん",answer:"Engine",emoji:"\uD83D\uDD27",korean:"엔진"},{id:66,katakana:"ガソリン",furigana:"がそりん",answer:"Gasoline",emoji:"⛽",korean:"가솔린"},{id:67,katakana:"バッテリー",furigana:"ばってりー",answer:"Battery",emoji:"\uD83D\uDD0B",korean:"배터리"},{id:68,katakana:"エネルギー",furigana:"えねるぎー",answer:"Energy",emoji:"⚡",korean:"에너지"},{id:69,katakana:"ソフト",furigana:"そふと",answer:"Software",emoji:"\uD83D\uDCBE",korean:"소프트웨어"},{id:70,katakana:"ハード",furigana:"はーど",answer:"Hardware",emoji:"\uD83D\uDDA5️",korean:"하드웨어"},{id:71,katakana:"クラウド",furigana:"くらうど",answer:"Cloud",emoji:"☁️",korean:"클라우드"},{id:72,katakana:"データ",furigana:"でーた",answer:"Data",emoji:"\uD83D\uDCCA",korean:"데이터"},{id:73,katakana:"ネット",furigana:"ねっと",answer:"Net",emoji:"\uD83C\uDF10",korean:"인터넷"},{id:74,katakana:"サイト",furigana:"さいと",answer:"Site",emoji:"\uD83D\uDCBB",korean:"사이트"},{id:75,katakana:"ブログ",furigana:"ぶろぐ",answer:"Blog",emoji:"\uD83D\uDCDD",korean:"블로그"},{id:76,katakana:"ニュース",furigana:"にゅーす",answer:"News",emoji:"\uD83D\uDCF0",korean:"뉴스"},{id:77,katakana:"ストーリー",furigana:"すとーりー",answer:"Story",emoji:"\uD83D\uDCD6",korean:"스토리"},{id:78,katakana:"メモ",furigana:"めも",answer:"Memo",emoji:"\uD83D\uDDD2️",korean:"메모"},{id:79,katakana:"カレンダー",furigana:"かれんだー",answer:"Calendar",emoji:"\uD83D\uDCC6",korean:"캘린더"},{id:80,katakana:"スケジュール",furigana:"すけじゅーる",answer:"Schedule",emoji:"\uD83D\uDDD3️",korean:"스케줄"},{id:81,katakana:"ミーティング",furigana:"みーてぃんぐ",answer:"Meeting",emoji:"\uD83D\uDC65",korean:"미팅"},{id:82,katakana:"プロジェクト",furigana:"ぷろじぇくと",answer:"Project",emoji:"\uD83D\uDCC2",korean:"프로젝트"},{id:83,katakana:"タスク",furigana:"たすく",answer:"Task",emoji:"✅",korean:"작업"},{id:84,katakana:"チェック",furigana:"ちぇっく",answer:"Check",emoji:"✔️",korean:"체크"},{id:85,katakana:"リスト",furigana:"りすと",answer:"List",emoji:"\uD83D\uDCCB",korean:"리스트"},{id:86,katakana:"ゴール",furigana:"ごーる",answer:"Goal",emoji:"\uD83E\uDD45",korean:"목표"},{id:87,katakana:"プラン",furigana:"ぷらん",answer:"Plan",emoji:"\uD83D\uDCDD",korean:"계획"},{id:88,katakana:"アイデア",furigana:"あいであ",answer:"Idea",emoji:"\uD83D\uDCA1",korean:"아이디어"},{id:89,katakana:"デザイン",furigana:"でざいん",answer:"Design",emoji:"\uD83C\uDFA8",korean:"디자인"},{id:90,katakana:"カラー",furigana:"からー",answer:"Color",emoji:"\uD83C\uDFA8",korean:"색상"},{id:91,katakana:"システム",furigana:"しすてむ",answer:"System",emoji:"\uD83D\uDDA5️",korean:"시스템"},{id:92,katakana:"プログラム",furigana:"ぷろぐらむ",answer:"Program",emoji:"\uD83D\uDCBB",korean:"프로그램"},{id:93,katakana:"コード",furigana:"こーど",answer:"Code",emoji:"\uD83D\uDC68‍\uD83D\uDCBB",korean:"코드"},{id:94,katakana:"テスト",furigana:"てすと",answer:"Test",emoji:"\uD83E\uDDEA",korean:"테스트"},{id:95,katakana:"バグ",furigana:"ばぐ",answer:"Bug",emoji:"\uD83D\uDC1E",korean:"버그"},{id:96,katakana:"アップデート",furigana:"あっぷでーと",answer:"Update",emoji:"\uD83D\uDD04",korean:"업데이트"},{id:97,katakana:"バージョン",furigana:"ばーじょん",answer:"Version",emoji:"\uD83D\uDD22",korean:"버전"},{id:98,katakana:"ログイン",furigana:"ろぐいん",answer:"Login",emoji:"\uD83D\uDD11",korean:"로그인"},{id:99,katakana:"パスワード",furigana:"ぱすわーど",answer:"Password",emoji:"\uD83D\uDD10",korean:"비밀번호"},{id:100,katakana:"ユーザー",furigana:"ゆーざー",answer:"User",emoji:"\uD83D\uDC64",korean:"사용자"}];var x=n(8565),h=n(1206),p=n(7325),S=n(6401),N=n(6031),v=n(5054),b=n(7323),y=n(4936);function E(){var a;let e="katakana-words",[n,E]=(0,i.useState)(50),{user:T}=(0,t.A)(),{open:I}=(0,p.X)(),{deck:C,setDeck:O,favs:A,toggleFav:_,shuffleDeck:D,resetDeckToInitial:F}=(0,j.c)({user:T,deckType:e,initialDeck:w}),[R,P]=(0,i.useState)(0),[B,U]=(0,i.useState)(!1),[L,M]=(0,i.useState)("single"),[G,z]=(0,i.useState)({}),[V,Y]=(0,i.useState)(1),[H,W]=(0,i.useState)(!1),[J,K]=(0,i.useState)(!1),[$,q]=(0,i.useState)("Noto Sans JP"),[X,Z]=(0,i.useState)("일상 회화"),[Q,aa]=(0,i.useState)(10),[ae,an]=(0,i.useState)(!1),ar=(0,i.useMemo)(()=>J?C.filter(a=>A[a.id]):C,[C,J,A]),{currentCards:ai,totalPages:at}=(0,i.useMemo)(()=>{let a=Math.ceil(ar.length/10)||1,e=(V-1)*10;return{currentCards:ar.slice(e,e+10),totalPages:a}},[V,ar]),{importContent:ao}=(0,v.h)({deckType:e,setDeck:O,setIndex:P,setFlipped:U,setFlippedStates:z,setCurrentPage:Y,setLoadingImport:an,fetchGeneratedContent:b.x,errorFallback:y.UU.CONTENT_GENERATION_FAILED}),as=(0,i.useCallback)(()=>U(a=>!a),[]),al=(0,i.useCallback)(()=>{P(a=>(a+1)%Math.max(1,ar.length)),U(!1)},[ar.length]),ak=(0,i.useCallback)(()=>{P(a=>(a-1+Math.max(1,ar.length))%Math.max(1,ar.length)),U(!1)},[ar.length]),ad=()=>{F(),P(0),U(!1),z({}),Y(1)},{isSupported:ac,speakJa:au,selectedVoice:am,voices:af,selectVoice:ag,isSafari:aj}=(0,g.Z)(),aw=null!=(a=ar[R])?a:null,ax=(0,i.useMemo)(()=>x.y[$]||x.y["Noto Sans JP"],[$]);(0,i.useEffect)(()=>{let a=a=>{a.target instanceof HTMLInputElement||a.target instanceof HTMLTextAreaElement||"single"===L&&("Enter"===a.key||" "===a.key?(a.preventDefault(),as()):"ArrowRight"===a.key?al():"ArrowLeft"===a.key&&ak())};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[L,as,al,ak]);let ah=(0,N.q)();return ah?(0,r.jsxs)("div",{className:"min-h-screen w-full flex flex-col items-center p-6",style:{fontFamily:ax},children:[(0,r.jsx)("header",{className:"w-full max-w-md mx-auto mb-1",children:(0,r.jsx)(m.R,{name:(null==T?void 0:T.nickname)||void 0,subject:S.a[e]})}),!T&&(0,r.jsx)(f.c,{onLoginClick:()=>I("login")}),"single"===L&&(0,r.jsxs)("div",{className:"mb-4 flex w-full max-w-md items-center justify-between text-sm mx-auto",children:[(0,r.jsxs)("span",{className:"text-muted-foreground",children:["⚡진행률 : ",ar.length?"".concat(Math.min(R+1,ar.length)," / ").concat(ar.length):"0 / 0"]}),ah&&(0,r.jsx)(s.$,{size:"sm",variant:"outline",onClick:()=>au(null==aw?void 0:aw.furigana),disabled:!ac,children:"\uD83D\uDD0A 듣기 (ふりがな)"}),(0,r.jsx)(s.$,{size:"sm",variant:"outline",onClick:()=>W(!0),"aria-haspopup":"dialog","aria-expanded":H,title:"설정",children:"⚙️ 설정"}),(0,r.jsx)(o.g,{open:H,onOpenChange:W,user:T,deckType:e,isTtsSupported:ac,selectedVoice:am,selectVoice:ag,voices:af,isSafari:aj,fontFamily:$,setFontFamily:q,topic:X,setTopic:Z,wordCount:Q,setWordCount:aa,loadingImport:ae,importContent:ao,wordFontSize:n,setWordFontSize:E,resetDeck:ad})]}),(0,r.jsx)("main",{className:"w-full max-w-5xl select-none",children:"single"===L?0===ar.length?(0,r.jsx)(k.y,{viewMode:"single"}):aw&&(0,r.jsx)(d.g,{card:aw,deckType:e,isFlipped:B,isFav:!!A[aw.id],onFlip:as,onToggleFav:()=>_(aw.id),fontSize:n},aw.id):(0,r.jsx)(r.Fragment,{children:0===ar.length?(0,r.jsx)(k.y,{viewMode:"grid"}):(0,r.jsx)(c.o,{variant:"words",cards:ai,favs:A,flippedStates:G,onToggleFav:a=>_(a),onToggleCardFlip:a=>z(e=>({...e,[a]:!e[a]})),page:{current:V,total:at,onPrev:()=>Y(a=>Math.max(a-1,1)),onNext:()=>Y(a=>Math.min(a+1,at))}})})}),"single"===L&&(0,r.jsx)("div",{className:"mt-4 flex flex-wrap items-center justify-center gap-2 text-sm",children:(0,r.jsx)(u.A,{onPrev:ak,onNext:al,onShuffle:()=>{D(),P(0),U(!1)},onReset:ad})}),(0,r.jsxs)("div",{className:"mt-4 flex flex-wrap items-center justify-center gap-4 text-sm",children:[T&&(0,r.jsx)(s.$,{variant:"outline",onClick:()=>{M(a=>"single"===a?"grid":"single"),U(!1)},children:"single"===L?"여러 장 모아보기":"한 장씩 학습하기"}),(0,r.jsxs)("label",{className:"flex items-center gap-3 px-3 py-2 rounded-xl border border-border bg-card",children:[(0,r.jsx)("span",{className:"text-foreground font-semibold",children:"⭐ Only"}),(0,r.jsx)(l.d,{checked:J,onCheckedChange:a=>{K(a),P(0),U(!1),Y(1)}})]})]}),(0,r.jsx)("footer",{className:"w-full max-w-md mx-auto mt-6 text-sm text-muted-foreground bg-card/50 border border-border rounded-xl px-4 py-3",children:(0,r.jsxs)("ul",{className:"list-disc list-outside pl-6 space-y-1 leading-relaxed",children:[(0,r.jsx)("li",{children:y.BO.GUIDE_TTS_FONT}),(0,r.jsx)("li",{children:y.BO.GUIDE_AI_STUDY}),(0,r.jsxs)("li",{children:[y.BO.KEYBOARD_GUIDE.PREFIX,(0,r.jsx)("kbd",{children:"Enter"}),y.BO.KEYBOARD_GUIDE.ENTER,(0,r.jsx)("kbd",{children:"←/→"}),y.BO.KEYBOARD_GUIDE.ARROWS]})]})}),(0,r.jsx)("div",{className:"mt-4 text-center",children:(0,r.jsxs)("span",{className:"text-muted-foreground/60 text-xs",children:[y.BO.APP_INFO(h.h)," | ",(0,r.jsx)("a",{href:"https://github.com/SsunLee/ssunbae_katakana-flashcards",target:"_blank",rel:"noopener noreferrer",className:"hover:text-foreground/80 ml-1",children:y.BO.GITHUB_LINK})]})})]}):(0,r.jsx)("div",{className:"min-h-screen w-full bg-background flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-foreground",children:"로딩 중..."})})}}},a=>{a.O(0,[992,811,549,707,663,765,720,779,441,255,358],()=>a(a.s=5359)),_N_E=a.O()}]);