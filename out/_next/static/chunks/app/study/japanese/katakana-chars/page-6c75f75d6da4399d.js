(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7745],{323:(e,t,n)=>{Promise.resolve().then(n.bind(n,2853))},2853:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>S});var s=n(5155),a=n(2115),l=n(9070),i=n(7325),r=n(8324),d=n(2171),o=n(4643),c=n(4342),u=n(5511),x=n(391),m=n(7288),h=n(5167),g=n(5577),p=n(509),f=n(1215),j=n(7627),k=n(5246),b=n(8565),w=n(6401),y=n(6031);let v={gojuon:"50음도",dakuten:"탁음",handakuten:"반탁음",yoon:"요음"};function S(){var e;let t=f.X,n="katakana-chars",[S,N]=(0,a.useState)(96),{user:M}=(0,l.A)(),{open:C}=(0,i.X)(),{deck:F,favs:T,toggleFav:E,shuffleDeck:A,resetDeckToInitial:z}=(0,j.c)({user:M,deckType:n,initialDeck:t}),[D,L]=(0,a.useState)(0),[O,P]=(0,a.useState)(!1),[_,R]=(0,a.useState)("single"),[V,$]=(0,a.useState)(1),[H,I]=(0,a.useState)({}),[J,X]=(0,a.useState)(!1),[q,W]=(0,a.useState)(!1),[Z,B]=(0,a.useState)("Noto Sans JP"),[G,K]=(0,a.useState)({gojuon:!0,dakuten:!0,handakuten:!1,yoon:!1}),Q=(0,a.useMemo)(()=>new Map(t.map(e=>[e.id,e.type])),[t]),U=(0,a.useMemo)(()=>new Set(Object.keys(G).filter(e=>G[e])),[G]),Y=(0,a.useMemo)(()=>{let e=U.size>0?F.filter(e=>{let t=Q.get(e.id);return!!t&&U.has(t)}):[];return q?e.filter(e=>T[e.id]):e},[F,T,q,U,Q]),{currentCards:ee,totalPages:et}=(0,a.useMemo)(()=>{let e=Math.ceil(Y.length/10)||1,t=(V-1)*10;return{currentCards:Y.slice(t,t+10),totalPages:e}},[V,Y]),en=(0,a.useCallback)(()=>P(e=>!e),[]),es=(0,a.useCallback)(()=>{L(e=>(e+1)%Math.max(1,Y.length)),P(!1)},[Y.length]),ea=(0,a.useCallback)(()=>{L(e=>(e-1+Math.max(1,Y.length))%Math.max(1,Y.length)),P(!1)},[Y.length]),el=()=>{z(),L(0),P(!1),I({}),$(1)},{isSupported:ei,ready:er,speakJa:ed,selectedVoice:eo,voices:ec,selectVoice:eu,isSafari:ex}=(0,k.Z)(),em=null!=(e=Y[D])?e:null,eh=(0,a.useMemo)(()=>b.y[Z]||b.y["Noto Sans JP"],[Z]);(0,a.useEffect)(()=>{let e=e=>{e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||"single"===_&&("Enter"===e.key||" "===e.key?(e.preventDefault(),en()):"ArrowRight"===e.key?es():"ArrowLeft"===e.key&&ea())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[_,en,es,ea]);let eg=(0,y.q)()&&"speechSynthesis"in window;return(0,s.jsxs)("div",{className:"w-full min-h-screen flex flex-col items-center p-6",style:{fontFamily:eh},children:[(0,s.jsx)("header",{className:"w-full max-w-md mx-auto mb-1",children:(0,s.jsx)(g.R,{name:(null==M?void 0:M.nickname)||void 0,subject:w.a[n]})}),!M&&(0,s.jsx)(p.c,{onLoginClick:()=>C("login")}),"single"===_&&(0,s.jsxs)("div",{className:"mb-4 flex w-full max-w-md items-center justify-between text-sm mx-auto",children:[(0,s.jsxs)("span",{className:"text-muted-foreground",children:["⚡진행률 : ",Y.length?"".concat(Math.min(D+1,Y.length)," / ").concat(Y.length):"0 / 0"]}),eg&&(0,s.jsx)(d.$,{size:"sm",variant:"outline",onClick:()=>ed((null==em?void 0:em.katakana)||""),disabled:!er||!em,children:"\uD83D\uDD0A 듣기 (ふりがな)"}),(0,s.jsx)(d.$,{size:"sm",variant:"outline",onClick:()=>X(!0),"aria-haspopup":"dialog","aria-expanded":J,title:"설정",children:"⚙️ 설정"}),(0,s.jsx)(r.g,{open:J,onOpenChange:X,user:M,deckType:n,isTtsSupported:ei,selectedVoice:eo,selectVoice:eu,voices:ec,isSafari:ex,fontFamily:Z,setFontFamily:B,wordFontSize:S,setWordFontSize:N,resetDeck:el})]}),(0,s.jsx)("div",{className:"w-full max-w-md mx-auto mb-4 p-3 bg-card border border-border rounded-lg flex flex-wrap justify-center items-center gap-x-4 gap-y-2 text-sm",children:Object.keys(v).map(e=>(0,s.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,s.jsx)(c.S,{id:e,checked:G[e],onCheckedChange:()=>K(t=>({...t,[e]:!t[e]}))}),(0,s.jsx)("span",{children:v[e]})]},e))}),(0,s.jsx)("main",{className:"w-full max-w-5xl select-none",children:"single"===_?0===Y.length?(0,s.jsx)(u.y,{viewMode:"single"}):em&&(0,s.jsx)(x.g,{card:em,deckType:n,isFlipped:O,isFav:!!T[em.id],onFlip:en,onToggleFav:()=>E(em.id),fontSize:S},em.id):(0,s.jsx)(s.Fragment,{children:0===Y.length?(0,s.jsx)(u.y,{viewMode:"grid"}):(0,s.jsx)(m.o,{variant:"chars",cards:ee,favs:T,flippedStates:H,onToggleFav:e=>E(e),onToggleCardFlip:e=>I(t=>({...t,[e]:!t[e]})),page:{current:V,total:et,onPrev:()=>$(e=>Math.max(e-1,1)),onNext:()=>$(e=>Math.min(e+1,et))}})})}),"single"===_&&(0,s.jsx)(h.A,{onPrev:ea,onNext:es,onShuffle:()=>{A(),L(0),P(!1)},onReset:el}),(0,s.jsxs)("div",{className:"mt-4 flex flex-wrap items-center justify-center gap-4 text-sm",children:[M&&(0,s.jsx)(d.$,{variant:"outline",onClick:()=>{R(e=>"single"===e?"grid":"single"),P(!1)},children:"single"===_?"여러 장 모아보기":"한 장씩 학습하기"}),(0,s.jsxs)("label",{className:"flex items-center gap-3 px-3 py-2 rounded-xl border border-border bg-card",children:[(0,s.jsx)("span",{className:"text-foreground font-semibold",children:"⭐ Only"}),(0,s.jsx)(o.d,{checked:q,onCheckedChange:e=>{W(e),L(0),P(!1),$(1)}})]})]}),(0,s.jsx)("footer",{className:"w-full max-w-md mx-auto mt-6 text-sm text-muted-foreground bg-card/50 border border-border rounded-xl px-4 py-3",children:(0,s.jsxs)("ul",{className:"list-disc list-outside pl-6 space-y-1 leading-relaxed",children:[(0,s.jsx)("li",{children:"⚙️설정에서 TTS Voice, Font, 폰트 크기를 조절할 수 있습니다."}),(0,s.jsx)("li",{children:"⚙️설정에서 AI 단어 추가 학습을 할 수 있습니다."}),(0,s.jsxs)("li",{children:["키보드: ",(0,s.jsx)("kbd",{children:"Enter"})," 카드 뒤집기, ",(0,s.jsx)("kbd",{children:"←/→"})," 이전/다음"]})]})})]})}}},e=>{e.O(0,[2992,7811,5707,2549,663,9765,6525,1940,8441,1255,7358],()=>e(e.s=323)),_N_E=e.O()}]);