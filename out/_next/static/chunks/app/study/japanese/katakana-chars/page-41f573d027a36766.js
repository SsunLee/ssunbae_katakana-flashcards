(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[745],{323:(e,t,s)=>{Promise.resolve().then(s.bind(s,2853))},2853:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var n=s(5155),a=s(2115),l=s(9070),i=s(7325),r=s(8324),d=s(2171),o=s(4643),c=s(4342),u=s(5511),x=s(391),m=s(7288),h=s(5167),g=s(5577),p=s(509),f=s(1215),j=s(7627),k=s(5246),b=s(8565),w=s(1206),y=s(6401),v=s(6031);let S={gojuon:"50음도",dakuten:"탁음",handakuten:"반탁음",yoon:"요음"};function N(){var e;let t=f.X,s="katakana-chars",[N,M]=(0,a.useState)(96),{user:C}=(0,l.A)(),{open:F}=(0,i.X)(),{deck:T,favs:E,toggleFav:A,shuffleDeck:z,resetDeckToInitial:D}=(0,j.c)({user:C,deckType:s,initialDeck:t}),[L,O]=(0,a.useState)(0),[P,_]=(0,a.useState)(!1),[R,V]=(0,a.useState)("single"),[$,H]=(0,a.useState)(1),[I,J]=(0,a.useState)({}),[X,q]=(0,a.useState)(!1),[W,Z]=(0,a.useState)(!1),[B,G]=(0,a.useState)("Noto Sans JP"),[K,Q]=(0,a.useState)({gojuon:!0,dakuten:!0,handakuten:!1,yoon:!1}),U=(0,a.useMemo)(()=>new Map(t.map(e=>[e.id,e.type])),[t]),Y=(0,a.useMemo)(()=>new Set(Object.keys(K).filter(e=>K[e])),[K]),ee=(0,a.useMemo)(()=>{let e=Y.size>0?T.filter(e=>{let t=U.get(e.id);return!!t&&Y.has(t)}):[];return W?e.filter(e=>E[e.id]):e},[T,E,W,Y,U]),{currentCards:et,totalPages:es}=(0,a.useMemo)(()=>{let e=Math.ceil(ee.length/10)||1,t=($-1)*10;return{currentCards:ee.slice(t,t+10),totalPages:e}},[$,ee]),en=(0,a.useCallback)(()=>_(e=>!e),[]),ea=(0,a.useCallback)(()=>{O(e=>(e+1)%Math.max(1,ee.length)),_(!1)},[ee.length]),el=(0,a.useCallback)(()=>{O(e=>(e-1+Math.max(1,ee.length))%Math.max(1,ee.length)),_(!1)},[ee.length]),ei=()=>{D(),O(0),_(!1),J({}),H(1)},{isSupported:er,ready:ed,speakJa:eo,selectedVoice:ec,voices:eu,selectVoice:ex,isSafari:em}=(0,k.Z)(),eh=null!=(e=ee[L])?e:null,eg=(0,a.useMemo)(()=>b.y[B]||b.y["Noto Sans JP"],[B]);(0,a.useEffect)(()=>{let e=e=>{e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||"single"===R&&("Enter"===e.key||" "===e.key?(e.preventDefault(),en()):"ArrowRight"===e.key?ea():"ArrowLeft"===e.key&&el())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[R,en,ea,el]);let ep=(0,v.q)()&&"speechSynthesis"in window;return(0,n.jsxs)("div",{className:"w-full min-h-screen flex flex-col items-center p-6",style:{fontFamily:eg},children:[(0,n.jsx)("header",{className:"w-full max-w-md mx-auto mb-1",children:(0,n.jsx)(g.R,{name:(null==C?void 0:C.nickname)||void 0,subject:y.a[s]})}),!C&&(0,n.jsx)(p.c,{onLoginClick:()=>F("login")}),"single"===R&&(0,n.jsxs)("div",{className:"mb-4 flex w-full max-w-md items-center justify-between text-sm mx-auto",children:[(0,n.jsxs)("span",{className:"text-muted-foreground",children:["⚡진행률 : ",ee.length?"".concat(Math.min(L+1,ee.length)," / ").concat(ee.length):"0 / 0"]}),ep&&(0,n.jsx)(d.$,{size:"sm",variant:"outline",onClick:()=>eo((null==eh?void 0:eh.katakana)||""),disabled:!ed||!eh,children:"\uD83D\uDD0A 듣기 (ふりがな)"}),(0,n.jsx)(d.$,{size:"sm",variant:"outline",onClick:()=>q(!0),"aria-haspopup":"dialog","aria-expanded":X,title:"설정",children:"⚙️ 설정"}),(0,n.jsx)(r.g,{open:X,onOpenChange:q,user:C,deckType:s,isTtsSupported:er,selectedVoice:ec,selectVoice:ex,voices:eu,isSafari:em,fontFamily:B,setFontFamily:G,wordFontSize:N,setWordFontSize:M,resetDeck:ei})]}),(0,n.jsx)("div",{className:"w-full max-w-md mx-auto mb-4 p-3 bg-card border border-border rounded-lg flex flex-wrap justify-center items-center gap-x-4 gap-y-2 text-sm",children:Object.keys(S).map(e=>(0,n.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,n.jsx)(c.S,{id:e,checked:K[e],onCheckedChange:()=>Q(t=>({...t,[e]:!t[e]}))}),(0,n.jsx)("span",{children:S[e]})]},e))}),(0,n.jsx)("main",{className:"w-full max-w-5xl select-none",children:"single"===R?0===ee.length?(0,n.jsx)(u.y,{viewMode:"single"}):eh&&(0,n.jsx)(x.g,{card:eh,deckType:s,isFlipped:P,isFav:!!E[eh.id],onFlip:en,onToggleFav:()=>A(eh.id),fontSize:N},eh.id):(0,n.jsx)(n.Fragment,{children:0===ee.length?(0,n.jsx)(u.y,{viewMode:"grid"}):(0,n.jsx)(m.o,{variant:"chars",cards:et,favs:E,flippedStates:I,onToggleFav:e=>A(e),onToggleCardFlip:e=>J(t=>({...t,[e]:!t[e]})),page:{current:$,total:es,onPrev:()=>H(e=>Math.max(e-1,1)),onNext:()=>H(e=>Math.min(e+1,es))}})})}),"single"===R&&(0,n.jsx)(h.A,{onPrev:el,onNext:ea,onShuffle:()=>{z(),O(0),_(!1)},onReset:ei}),(0,n.jsxs)("div",{className:"mt-4 flex flex-wrap items-center justify-center gap-4 text-sm",children:[C&&(0,n.jsx)(d.$,{variant:"outline",onClick:()=>{V(e=>"single"===e?"grid":"single"),_(!1)},children:"single"===R?"여러 장 모아보기":"한 장씩 학습하기"}),(0,n.jsxs)("label",{className:"flex items-center gap-3 px-3 py-2 rounded-xl border border-border bg-card",children:[(0,n.jsx)("span",{className:"text-foreground font-semibold",children:"⭐ Only"}),(0,n.jsx)(o.d,{checked:W,onCheckedChange:e=>{Z(e),O(0),_(!1),H(1)}})]})]}),(0,n.jsx)("footer",{className:"w-full max-w-md mx-auto mt-6 text-sm text-muted-foreground bg-card/50 border border-border rounded-xl px-4 py-3",children:(0,n.jsxs)("ul",{className:"list-disc list-outside pl-6 space-y-1 leading-relaxed",children:[(0,n.jsx)("li",{children:"⚙️설정에서 TTS Voice, Font, 폰트 크기를 조절할 수 있습니다."}),(0,n.jsx)("li",{children:"⚙️설정에서 AI 단어 추가 학습을 할 수 있습니다."}),(0,n.jsxs)("li",{children:["키보드: ",(0,n.jsx)("kbd",{children:"Enter"})," 카드 뒤집기, ",(0,n.jsx)("kbd",{children:"←/→"})," 이전/다음"]})]})}),(0,n.jsx)("div",{className:"mt-4 text-center",children:(0,n.jsxs)("span",{className:"text-muted-foreground/60 text-xs",children:["가타카나 공부 v",w.h]})})]})}}},e=>{e.O(0,[992,811,549,707,663,765,779,867,441,255,358],()=>e(e.s=323)),_N_E=e.O()}]);