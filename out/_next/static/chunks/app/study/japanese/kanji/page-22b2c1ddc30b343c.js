(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2918],{1949:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>v});var n=t(5155),i=t(2115),s=t(9070),l=t(8324),r=t(2171),o=t(4643),d=t(5511);let c=e=>{let{card:a,isFlipped:t,isFav:i,onFlip:s,onToggleFav:l,kanjiFontSize:o}=e;return(0,n.jsx)("div",{className:"[perspective:1200px] w-full max-w-md mx-auto",children:(0,n.jsxs)("div",{role:"button",tabIndex:0,"aria-label":"flip card",onClick:s,className:"relative h-80 md:h-96 transition-transform duration-500 [transform-style:preserve-3d] cursor-pointer",style:{transform:t?"rotateY(180deg)":"rotateY(0deg)"},children:[(0,n.jsxs)("div",{className:"absolute inset-0 bg-card backdrop-blur rounded-2xl shadow-xl border border-border flex flex-col items-center justify-center p-6 [backface-visibility:hidden]",children:[(0,n.jsx)(r.$,{type:"button",size:"icon",variant:"secondary",onClick:e=>{e.stopPropagation(),l()},className:"absolute top-4 right-4 h-9 w-9 rounded-full",title:i?"즐겨찾기 해제":"즐겨찾기 추가",children:(0,n.jsx)("span",{className:"text-xl flex items-center justify-center w-full h-full",children:i?"⭐":"☆"})}),(0,n.jsx)("div",{className:"text-sm text-muted-foreground mb-4",children:"카드를 클릭하여 뜻을 확인하세요"}),(0,n.jsx)("p",{className:"font-semibold leading-none text-center",style:{fontSize:"".concat(2*o,"px")},children:a.kanji})]}),(0,n.jsx)("div",{className:"absolute inset-0 bg-card backdrop-blur rounded-2xl shadow-xl border border-border flex flex-col items-center justify-center p-6 [transform:rotateY(180deg)] [backface-visibility:hidden]",children:(0,n.jsxs)("div",{className:"w-full text-center",children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsxs)("p",{className:"text-lg answer-text",children:["음독: ",a.onyomi]}),(0,n.jsx)("div",{className:"my-1 font-bold",style:{fontSize:"".concat(1.5*o,"px")},children:a.kanji}),(0,n.jsxs)("p",{className:"text-lg answer-text",children:["훈독: ",a.kunyomi]})]}),(0,n.jsx)("div",{className:"w-full border-t ui-divider my-4"}),(0,n.jsxs)("div",{className:"w-full text-center space-y-1",children:[(0,n.jsx)("p",{className:"text-lg font-semibold text-foreground/90",children:a.exampleSentence}),(0,n.jsxs)("p",{className:"text-base text-muted-foreground",children:["(",a.exampleRomaji,")"]}),(0,n.jsx)("p",{className:"text-base text-foreground/90 mt-1",children:a.exampleTranslation})]})]})})]})})};var m=t(7288),u=t(5167),x=t(5577),h=t(509),f=t(5246),p=t(7627);let y=[{id:1,kanji:"日",meaning:"날, 해",onyomi:"にち, じつ",kunyomi:"ひ, -び, -か",exampleSentence:"今日はいい天気ですね。",exampleRomaji:"kyō wa ii tenki desu ne.",exampleTranslation:"오늘은 날씨가 좋네요."},{id:2,kanji:"一",meaning:"하나",onyomi:"いち, いつ",kunyomi:"ひと-",exampleSentence:"一番好きな食べ物は何ですか。",exampleRomaji:"ichiban sukina tabemono wa nan desu ka.",exampleTranslation:"가장 좋아하는 음식은 무엇인가요?"},{id:3,kanji:"国",meaning:"나라",onyomi:"こく",kunyomi:"くに",exampleSentence:"韓国は美しい国です。",exampleRomaji:"kankoku wa utsukushii kuni desu.",exampleTranslation:"한국은 아름다운 나라입니다."},{id:4,kanji:"人",meaning:"사람",onyomi:"じん, にん",kunyomi:"ひと",exampleSentence:"あの人は誰ですか。",exampleRomaji:"ano hito wa dare desu ka.",exampleTranslation:"저 사람은 누구입니까?"},{id:5,kanji:"年",meaning:"해, 년",onyomi:"ねん",kunyomi:"とし",exampleSentence:"来年、日本に行きます。",exampleRomaji:"rainen, nihon ni ikimasu.",exampleTranslation:"내년에 일본에 갑니다."},{id:6,kanji:"大",meaning:"크다",onyomi:"だい, たい",kunyomi:"おお-",exampleSentence:"この犬はとても大きいです。",exampleRomaji:"kono inu wa totemo ōkii desu.",exampleTranslation:"이 개는 매우 큽니다."},{id:7,kanji:"本",meaning:"책, 근본",onyomi:"ほん",kunyomi:"もと",exampleSentence:"図書館で本を読みます。",exampleRomaji:"toshokan de hon o yomimasu.",exampleTranslation:"도서관에서 책을 읽습니다."},{id:8,kanji:"中",meaning:"가운데",onyomi:"ちゅう",kunyomi:"なか",exampleSentence:"彼は部屋の中にいます。",exampleRomaji:"kare wa heya no naka ni imasu.",exampleTranslation:"그는 방 안에 있습니다."},{id:9,kanji:"長",meaning:"길다, 어른",onyomi:"ちょう",kunyomi:"なが-い",exampleSentence:"この川はとても長いです。",exampleRomaji:"kono kawa wa totemo nagai desu.",exampleTranslation:"이 강은 매우 깁니다."},{id:10,kanji:"出",meaning:"나다, 나오다",onyomi:"しゅつ, すい",kunyomi:"で-る, だ-す",exampleSentence:"家から早く出ました。",exampleRomaji:"ie kara hayaku demashita.",exampleTranslation:"집에서 일찍 나왔습니다."}];var g=t(8565),j=t(7325),k=t(6401),b=t(6031);function v(){var e;let a="kanji-words",{user:t}=(0,s.A)(),{open:v}=(0,j.X)(),{deck:w,favs:N,toggleFav:S,shuffleDeck:C,resetDeckToInitial:F}=(0,p.c)({user:t,deckType:a,initialDeck:y}),[T,z]=(0,i.useState)(0),[D,E]=(0,i.useState)(!1),[M,R]=(0,i.useState)("single"),[A,P]=(0,i.useState)({}),[$,L]=(0,i.useState)(1),[V,Y]=(0,i.useState)(!1),[_,I]=(0,i.useState)(!1),[H,O]=(0,i.useState)("Noto Sans JP"),[J,W]=(0,i.useState)(48),{isSupported:Z,ready:q,speakJa:B,selectedVoice:U,voices:X,selectVoice:G,isSafari:K}=(0,f.Z)(),Q=(0,i.useMemo)(()=>_?w.filter(e=>N[e.id]):w,[w,_,N]),{currentCards:ee,totalPages:ea}=(0,i.useMemo)(()=>{let e=Math.ceil(Q.length/10)||1,a=($-1)*10;return{currentCards:Q.slice(a,a+10),totalPages:e}},[$,Q]),et=(0,i.useCallback)(()=>E(e=>!e),[]),en=(0,i.useCallback)(()=>{z(e=>(e+1)%Math.max(1,Q.length)),E(!1)},[Q.length]),ei=(0,i.useCallback)(()=>{z(e=>(e-1+Math.max(1,Q.length))%Math.max(1,Q.length)),E(!1)},[Q.length]),es=()=>{F(),z(0),E(!1),P({}),L(1)},el=null!=(e=Q[T])?e:null,er=(0,i.useMemo)(()=>g.y[H]||g.y["Noto Sans JP"],[H]);(0,i.useEffect)(()=>{let e=e=>{e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||"single"===M&&("Enter"===e.key||" "===e.key?(e.preventDefault(),et()):"ArrowRight"===e.key?en():"ArrowLeft"===e.key&&ei())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[M,et,en,ei]);let eo=(0,b.q)()&&"speechSynthesis"in window;return(0,n.jsxs)("div",{className:"min-h-screen w-full flex flex-col items-center p-6",style:{fontFamily:er},children:[(0,n.jsx)("header",{className:"w-full max-w-md mx-auto mb-1",children:(0,n.jsx)(x.R,{name:(null==t?void 0:t.nickname)||void 0,subject:k.a[a]})}),!t&&(0,n.jsx)(h.c,{onLoginClick:()=>v("login")}),"single"===M&&(0,n.jsxs)("div",{className:"mb-4 flex w-full max-w-md items-center justify-between text-sm mx-auto",children:[(0,n.jsxs)("span",{className:"text-muted-foreground",children:["⚡진행률 : ",Q.length?"".concat(Math.min(T+1,Q.length)," / ").concat(Q.length):"0 / 0"]}),eo&&(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(r.$,{size:"sm",variant:"outline",onClick:()=>B((null==el?void 0:el.onyomi)||""),disabled:!q||!el||!el.onyomi,children:"\uD83D\uDD0A 음독"}),(0,n.jsx)(r.$,{size:"sm",variant:"outline",onClick:()=>B((null==el?void 0:el.kunyomi)||""),disabled:!q||!el||!el.kunyomi,children:"\uD83D\uDD0A 훈독"})]}),(0,n.jsx)(r.$,{size:"sm",variant:"outline",onClick:()=>Y(!0),"aria-haspopup":"dialog","aria-expanded":V,title:"설정",children:"⚙️ 설정"}),(0,n.jsx)(l.g,{open:V,onOpenChange:Y,user:t,deckType:a,isTtsSupported:Z,selectedVoice:U,selectVoice:G,voices:X,isSafari:K,fontFamily:H,setFontFamily:O,wordFontSize:J,setWordFontSize:W,resetDeck:es})]}),(0,n.jsx)("main",{className:"w-full max-w-5xl select-none",children:"single"===M?0===Q.length?(0,n.jsx)(d.y,{viewMode:"single"}):el&&(0,n.jsx)(c,{card:el,isFlipped:D,isFav:!!N[el.id],onFlip:et,onToggleFav:()=>S(el.id),kanjiFontSize:J},el.id):0===Q.length?(0,n.jsx)(d.y,{viewMode:"grid"}):(0,n.jsx)(m.o,{variant:"words",cards:ee.map(e=>({id:e.id,katakana:e.kanji,furigana:e.onyomi,answer:e.meaning,emoji:"\uD83C\uDC04"})),favs:N,flippedStates:A,onToggleFav:e=>S(e),onToggleCardFlip:e=>P(a=>({...a,[e]:!a[e]})),page:{current:$,total:ea,onPrev:()=>L(e=>Math.max(e-1,1)),onNext:()=>L(e=>Math.min(e+1,ea))}})}),"single"===M&&(0,n.jsx)("div",{className:"mt-4 flex flex-wrap items-center justify-center gap-2 text-sm",children:(0,n.jsx)(u.A,{onPrev:ei,onNext:en,onShuffle:()=>{C(),z(0),E(!1)},onReset:es})}),(0,n.jsxs)("div",{className:"mt-4 flex flex-wrap items-center justify-center gap-4 text-sm",children:[t&&(0,n.jsx)(r.$,{variant:"outline",onClick:()=>{R(e=>"single"===e?"grid":"single"),E(!1)},children:"single"===M?"여러 장 모아보기":"한 장씩 학습하기"}),(0,n.jsxs)("label",{className:"flex items-center gap-3 px-3 py-2 rounded-xl border border-border bg-card",children:[(0,n.jsx)("span",{className:"text-foreground font-semibold",children:"⭐ Only"}),(0,n.jsx)(o.d,{checked:_,onCheckedChange:e=>{I(e),z(0),E(!1),L(1)}})]})]}),(0,n.jsx)("footer",{className:"w-full max-w-md mx-auto mt-6 text-sm text-muted-foreground bg-card/50 border border-border rounded-xl px-4 py-3",children:(0,n.jsxs)("ul",{className:"list-disc list-outside pl-6 space-y-1 leading-relaxed",children:[(0,n.jsx)("li",{children:"⚙️설정에서 TTS Voice, Font, 한자 폰트 크기를 조절할 수 있습니다."}),(0,n.jsxs)("li",{children:["키보드: ",(0,n.jsx)("kbd",{children:"Enter"})," 카드 뒤집기, ",(0,n.jsx)("kbd",{children:"←/→"})," 이전/다음"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("b",{children:"음독(音読み):"})," 한자의 중국 발음에서 유래한 읽기 방법."]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("b",{children:"훈독(訓読み):"})," 한자의 뜻에 해당하는 일본 고유의 말을 붙여 읽는 방법."]})]})})]})}},3486:(e,a,t)=>{Promise.resolve().then(t.bind(t,1949))},5246:(e,a,t)=>{"use strict";t.d(a,{Z:()=>l});var n=t(2115);let i=()=>"speechSynthesis"in window,s=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent);function l(){let[e,a]=(0,n.useState)([]),[t,l]=(0,n.useState)(null),[r]=(0,n.useState)(i),[o]=(0,n.useState)(s),[d,c]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if(!r)return;let e=()=>{let e=window.speechSynthesis.getVoices();if(0===e.length)return;let t=e.filter(e=>e.lang.startsWith("ja"));if(a(t),t.length>0){let e=localStorage.getItem("jaVoiceName");l(t.find(a=>a.name===e)||t[0]),c(!0)}};return window.speechSynthesis.addEventListener("voiceschanged",e),e(),()=>{window.speechSynthesis.removeEventListener("voiceschanged",e)}},[r]);let m=(0,n.useCallback)(e=>{if(e){l(e);try{localStorage.setItem("jaVoiceName",e.name)}catch(e){console.error("Failed to save voice to localStorage",e)}}},[]),u=(0,n.useCallback)(e=>{if(d&&t&&e){window.speechSynthesis.cancel();let a=new SpeechSynthesisUtterance(e);a.voice=t,a.lang=t.lang,window.speechSynthesis.speak(a)}},[d,t]);return{isSupported:r,ready:d,speakJa:u,selectedVoice:t,voices:e,selectVoice:m,isSafari:o}}},7288:(e,a,t)=>{"use strict";t.d(a,{o:()=>s});var n=t(5155);t(2115);var i=t(2171);function s(e){let{cards:a,favs:t,flippedStates:s,onToggleFav:l,onToggleCardFlip:r,page:o,variant:d="words",renderFront:c,renderBack:m}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"flex flex-wrap justify-center gap-4",children:a.map(e=>(0,n.jsx)("div",{className:"w-40 [perspective:1200px] cursor-pointer group",onClick:()=>r(e.id),children:(0,n.jsxs)("div",{className:"relative h-48 w-full transition-transform duration-500 [transform-style:preserve-3d] rounded-lg",style:{transform:s[e.id]?"rotateY(180deg)":"rotateY(0deg)"},children:[(0,n.jsxs)("div",{className:"absolute inset-0 bg-card flex flex-col items-center justify-center text-center p-2 rounded-lg border border-border [backface-visibility:hidden]",children:[(0,n.jsx)(i.$,{type:"button",size:"icon",variant:"secondary",onClick:a=>{a.stopPropagation(),l(e.id)},className:"absolute top-2 right-2 h-7 w-7 rounded-full",title:t[e.id]?"즐겨찾기 해제":"즐겨찾기 추가",children:(0,n.jsx)("span",{className:"text-md flex items-center justify-center w-full h-full",children:t[e.id]?"⭐":"☆"})}),c?c(e):"chars"===d?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"text-6xl font-semibold break-all px-2",children:e.katakana})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"text-2xl font-semibold break-all px-2",children:e.katakana}),(0,n.jsx)("div",{className:"text-sm text-muted-foreground mt-1",children:e.furigana})]})]}),(0,n.jsx)("div",{className:"absolute inset-0 bg-card flex flex-col items-center justify-center text-center p-2 rounded-lg border border-border [transform:rotateY(180deg)] [backface-visibility:hidden]",children:m?m(e):"chars"===d?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"text-5xl font-semibold break-all",children:e.furigana}),(0,n.jsx)("div",{className:"text-2xl mt-1",children:e.emoji}),(0,n.jsx)("div",{className:"text-sm text-muted-foreground mt-1 text-center",children:e.answer})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"text-lg font-semibold break-all",children:e.answer}),(0,n.jsx)("div",{className:"text-2xl mt-1",children:e.emoji}),(0,n.jsxs)("div",{className:"text-xs text-muted-foreground mt-2",children:["(",function(e){if(!e)return"";let a={きゃ:"kya",きゅ:"kyu",きょ:"kyo",ぎゃ:"gya",ぎゅ:"gyu",ぎょ:"gyo",しゃ:"sya",しゅ:"syu",しょ:"syo",じゃ:"zya",じゅ:"zyu",じょ:"zyo",ちゃ:"tya",ちゅ:"tyu",ちょ:"tyo",にゃ:"nya",にゅ:"nyu",にょ:"nyo",ひゃ:"hya",ひゅ:"hyu",ひょ:"hyo",みゃ:"mya",みゅ:"myu",みょ:"myo",りゃ:"rya",りゅ:"ryu",りょ:"ryo",びゃ:"bya",びゅ:"byu",びょ:"byo",ぴゃ:"pya",ぴゅ:"pyu",ぴょ:"pyo"},t={あ:"a",い:"i",う:"u",え:"e",お:"o",か:"ka",き:"ki",く:"ku",け:"ke",こ:"ko",さ:"sa",し:"shi",す:"su",せ:"se",そ:"so",た:"ta",ち:"chi",つ:"tsu",て:"te",と:"to",な:"na",に:"ni",ぬ:"nu",ね:"ne",の:"no",は:"ha",ひ:"hi",ふ:"fu",へ:"he",ほ:"ho",ま:"ma",み:"mi",む:"mu",め:"me",も:"mo",や:"ya",ゆ:"yu",よ:"yo",ら:"ra",り:"ri",る:"ru",れ:"re",ろ:"ro",わ:"wa",を:"o",ん:"n",が:"ga",ぎ:"gi",ぐ:"gu",げ:"ge",ご:"go",ざ:"za",じ:"ji",ず:"zu",ぜ:"ze",ぞ:"zo",だ:"da",ぢ:"ji",づ:"zu",で:"de",ど:"do",ば:"ba",び:"bi",ぶ:"bu",べ:"be",ぼ:"bo",ぱ:"pa",ぴ:"pi",ぷ:"pu",ぺ:"pe",ぽ:"po",ぁ:"a",ぃ:"i",ぅ:"u",ぇ:"e",ぉ:"o",ゃ:"ya",ゅ:"yu",ょ:"yo",っ:"*",ー:"-"},n=0,i="",s=["a","i","u","e","o"],l=n=>{let i=e.slice(n,n+2);return a[i]?a[i]:t[e[n]]||""};for(;n<e.length;){let r=e.slice(n,n+2);if(a[r]){i+=a[r],n+=2;continue}let o=e[n];if("っ"===o){let e=l(n+1);e&&(i+=e[0]),n+=1;continue}if("ー"===o){let e=Array.from(i).reverse().find(e=>s.includes(e));e&&(i+=e),n+=1;continue}i+=t[o]||o,n+=1}return i.replace(/n([yaeiou])/g,"n'$1")}(e.furigana),")"]})]})})]})},e.id))}),o&&o.total>1&&(0,n.jsxs)("div",{className:"mt-6 flex items-center justify-center gap-4 text-foreground",children:[(0,n.jsx)(i.$,{onClick:o.onPrev,disabled:1===o.current,size:"sm",variant:"outline",children:"이전"}),(0,n.jsxs)("span",{children:[o.current," / ",o.total]}),(0,n.jsx)(i.$,{onClick:o.onNext,disabled:o.current===o.total,size:"sm",variant:"outline",children:"다음"})]})]})}},7627:(e,a,t)=>{"use strict";t.d(a,{c:()=>l});var n=t(2115),i=t(9708),s=t(5190);function l(e){let{user:a,deckType:t,initialDeck:l}=e,[r,o]=(0,n.useState)(l),[d,c]=(0,n.useState)({}),[m,u]=(0,n.useState)(!1),[x,h]=(0,n.useState)(!0),[f,p]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{if(u(!1),!a){o(l),c({}),u(!0);return}try{let r=(0,i.H9)(s.db,"users",a.uid),d=await (0,i.x7)(r);if(d.exists()){var e,n;let a=null==(e=d.data().learningData)?void 0:e[t];o((null==a||null==(n=a.deck)?void 0:n.length)?a.deck:l),c((null==a?void 0:a.favs)||{})}else o(l),c({})}catch(e){console.error("데이터 로딩 실패:",e),o(l),c({})}finally{u(!0)}})()},[a,t,l]);let y=(0,n.useCallback)(async(e,n)=>{if(a&&m)try{let l=(0,i.H9)(s.db,"users",a.uid);await (0,i.BN)(l,{learningData:{[t]:{deck:e,favs:n}}},{merge:!0})}catch(e){console.error("데이터 저장 실패:",e)}},[a,m,t]);return(0,n.useEffect)(()=>{m&&a&&y(r,d)},[r,d,m,a,y]),{deck:r,setDeck:o,favs:d,toggleFav:e=>c(a=>{let t={...a};return t[e]?delete t[e]:t[e]=!0,t}),shuffleDeck:()=>o(e=>[...e].sort(()=>Math.random()-.5)),resetDeckToInitial:()=>{o(l),c({})},isDataLoaded:m,clearFavs:()=>c({})}}}},e=>{e.O(0,[2992,7811,5707,2549,663,9765,6525,8441,1255,7358],()=>e(e.s=3486)),_N_E=e.O()}]);