(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2918],{3486:(e,n,a)=>{Promise.resolve().then(a.bind(a,8372))},8372:(e,n,a)=>{"use strict";a.r(n),a.d(n,{default:()=>M});var t=a(5155),s=a(2115),l=a(9070),i=a(8324),o=a(2171),r=a(4342),m=a(5511),d=a(8514),c=a(9437);let x=e=>{let{card:n,isFlipped:a,isFav:s,onFlip:l,onToggleFav:i,kanjiFontSize:r,isWritingMode:m,onToggleWritingMode:x,onNext:u,onPrev:p,onShuffle:j,onReset:h}=e;return m?(0,t.jsx)("div",{className:"w-full max-w-md mx-auto",children:(0,t.jsx)(c.A,{kanji:n.kanji,onClose:x,onNext:u,onPrev:p,onShuffle:j,onReset:h})}):(0,t.jsx)("div",{className:"[perspective:1200px] w-full max-w-md mx-auto",children:(0,t.jsxs)("div",{role:"button",tabIndex:0,"aria-label":"flip card",onClick:l,className:"relative h-80 md:h-96 transition-transform duration-500 [transform-style:preserve-3d] cursor-pointer",style:{transform:a?"rotateY(180deg)":"rotateY(0deg)"},children:[(0,t.jsxs)("div",{className:"absolute inset-0 bg-card backdrop-blur rounded-2xl shadow-xl border border-border flex flex-col items-center justify-center p-6 [backface-visibility:hidden]",children:[(0,t.jsx)(o.$,{type:"button",size:"icon",variant:"secondary",onClick:e=>{e.stopPropagation(),i()},className:"absolute top-4 right-4 h-9 w-9 rounded-full",title:s?"즐겨찾기 해제":"즐겨찾기 추가",children:(0,t.jsx)("span",{className:"text-xl flex items-center justify-center w-full h-full",children:s?"⭐":"☆"})}),(0,t.jsx)(o.$,{type:"button",size:"icon",variant:"secondary",onClick:e=>{e.stopPropagation(),x()},className:"absolute top-4 left-4 h-9 w-9 rounded-full",title:"쓰기 모드",children:(0,t.jsx)(d.A,{className:"h-4 w-4"})}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground mb-4",children:"카드를 클릭하여 뜻을 확인하세요"}),(0,t.jsx)("p",{className:"font-semibold leading-none text-center",style:{fontSize:"".concat(2*r,"px")},children:n.kanji})]}),(0,t.jsx)("div",{className:"absolute inset-0 bg-card backdrop-blur rounded-2xl shadow-xl border border-border flex flex-col items-center justify-center p-6 [transform:rotateY(180deg)] [backface-visibility:hidden]",children:(0,t.jsxs)("div",{className:"w-full text-center",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("p",{className:"text-lg answer-text",children:["음독: ",n.onyomi]}),(0,t.jsx)("div",{className:"my-1 font-bold",style:{fontSize:"".concat(1.5*r,"px")},children:n.kanji}),(0,t.jsxs)("p",{className:"text-lg answer-text",children:["훈독: ",n.kunyomi]})]}),(0,t.jsx)("div",{className:"w-full border-t ui-divider my-4"}),(0,t.jsxs)("div",{className:"w-full text-center space-y-1",children:[(0,t.jsx)("p",{className:"text-lg font-semibold text-foreground/90",children:n.exampleSentence}),(0,t.jsxs)("p",{className:"text-base text-muted-foreground",children:["(",n.exampleRomaji,")"]}),(0,t.jsx)("p",{className:"text-base text-foreground/90 mt-1",children:n.exampleTranslation})]})]})})]})})};var u=a(7288),p=a(5167),j=a(5577),h=a(509),f=a(8456);function g(e){let{className:n,...a}=e;return(0,t.jsx)("div",{className:(0,f.cn)("animate-pulse rounded-md bg-muted",n),...a})}var k=a(5246);let y=[{id:1,kanji:"日",meaning:"날, 해",onyomi:"にち, じつ",kunyomi:"ひ, -び, -か",jlpt:5,exampleSentence:"今日はいい天気ですね。",exampleRomaji:"kyō wa ii tenki desu ne.",exampleTranslation:"오늘은 날씨가 좋네요."},{id:2,kanji:"一",meaning:"하나",onyomi:"いち, いつ",kunyomi:"ひと-",jlpt:5,exampleSentence:"一番好きな食べ物は何ですか。",exampleRomaji:"ichiban sukina tabemono wa nan desu ka.",exampleTranslation:"가장 좋아하는 음식은 무엇인가요?"},{id:3,kanji:"国",meaning:"나라",onyomi:"こく",kunyomi:"くに",jlpt:5,exampleSentence:"韓国は美しい国です。",exampleRomaji:"kankoku wa utsukushii kuni desu.",exampleTranslation:"한국은 아름다운 나라입니다."},{id:4,kanji:"人",meaning:"사람",onyomi:"じん, にん",kunyomi:"ひと",jlpt:5,exampleSentence:"あの人は誰ですか。",exampleRomaji:"ano hito wa dare desu ka.",exampleTranslation:"저 사람은 누구입니까?"},{id:5,kanji:"年",meaning:"해, 년",onyomi:"ねん",kunyomi:"とし",jlpt:5,exampleSentence:"来年、日本に行きます。",exampleRomaji:"rainen, nihon ni ikimasu.",exampleTranslation:"내년에 일본에 갑니다."},{id:6,kanji:"大",meaning:"크다",onyomi:"だい, たい",kunyomi:"おお-",jlpt:5,exampleSentence:"この犬はとても大きいです。",exampleRomaji:"kono inu wa totemo ōkii desu.",exampleTranslation:"이 개는 매우 큽니다."},{id:7,kanji:"本",meaning:"책, 근본",onyomi:"ほん",kunyomi:"もと",jlpt:5,exampleSentence:"図書館で本を読みます。",exampleRomaji:"toshokan de hon o yomimasu.",exampleTranslation:"도서관에서 책을 읽습니다."},{id:8,kanji:"中",meaning:"가운데",onyomi:"ちゅう",kunyomi:"なか",jlpt:5,exampleSentence:"彼は部屋の中にいます。",exampleRomaji:"kare wa heya no naka ni imasu.",exampleTranslation:"그는 방 안에 있습니다."},{id:9,kanji:"長",meaning:"길다, 어른",onyomi:"ちょう",kunyomi:"なが-い",jlpt:5,exampleSentence:"この川はとても長いです。",exampleRomaji:"kono kawa wa totemo nagai desu.",exampleTranslation:"이 강은 매우 깁니다."},{id:10,kanji:"出",meaning:"나다, 나오다",onyomi:"しゅつ, すい",kunyomi:"で-る, だ-す",jlpt:5,exampleSentence:"家から早く出ました。",exampleRomaji:"ie kara hayaku demashita.",exampleTranslation:"집에서 일찍 나왔습니다."}];var b=a(5328),N=a(8565),w=a(7325),v=a(6401),S=a(6031),T=a(7627);let C={N5:"N5",N4:"N4",N3:"N3",N2:"N2",N1:"N1"};function M(){var e;let n="japanese-kanji",{user:a,loading:d}=(0,l.A)(),{open:c}=(0,w.X)(),{deck:f,favs:M,toggleFav:R,shuffleDeck:F,resetDeckToInitial:D,isLoading:P,error:z}=(0,T.c)({user:a,deckType:n,fetchDeckData:b.G,initialDeck:y}),[E,A]=(0,s.useState)(0),[L,O]=(0,s.useState)(!1),[$,_]=(0,s.useState)("single"),[I,J]=(0,s.useState)(1),[V,W]=(0,s.useState)(!1),[Y,H]=(0,s.useState)(!1),[q,G]=(0,s.useState)("Noto Sans JP"),[X,Z]=(0,s.useState)(48),[B,K]=(0,s.useState)(!1),{isSupported:Q,ready:U,speakJa:ee,selectedVoice:en,voices:ea,selectVoice:et,isSafari:es}=(0,k.Z)(),[el,ei]=(0,s.useState)({N5:!0,N4:!0,N3:!0,N2:!0,N1:!0}),[eo,er]=(0,s.useState)({}),em=(0,s.useMemo)(()=>{let e=Y?f.filter(e=>M[e.id]):f,n=Object.keys(el).filter(e=>el[e]);if(0===n.length||n.length===Object.keys(C).length)return e;let a=n.map(e=>parseInt(e.replace("N","")));return e.filter(e=>e.jlpt&&a.includes(e.jlpt))},[f,Y,M,el]),{currentCards:ed,totalPages:ec}=(0,s.useMemo)(()=>{let e=Math.ceil(em.length/10)||1,n=(I-1)*10;return{currentCards:em.slice(n,n+10),totalPages:e}},[I,em]),ex=(0,s.useCallback)(()=>O(e=>!e),[]),eu=(0,s.useCallback)(()=>{A(e=>(e+1)%Math.max(1,em.length)),O(!1)},[em.length]),ep=(0,s.useCallback)(()=>{A(e=>(e-1+Math.max(1,em.length))%Math.max(1,em.length)),O(!1)},[em.length]),ej=()=>{F(),A(0),O(!1)},eh=()=>{D(),A(0),O(!1),J(1)},ef=null!=(e=em[E])?e:null,eg=(0,s.useMemo)(()=>N.y[q]||N.y["Noto Sans JP"],[q]);(0,s.useEffect)(()=>{let e=e=>{e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||B||"single"===$&&("Enter"===e.key||" "===e.key?(e.preventDefault(),ex()):"ArrowRight"===e.key?eu():"ArrowLeft"===e.key&&ep())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[$,ex,eu,ep,B]);let ek=(0,S.q)()&&"speechSynthesis"in window;return P?(0,t.jsxs)("div",{className:"min-h-screen w-full flex flex-col items-center p-6",children:[(0,t.jsx)(g,{className:"h-10 w-full max-w-md mb-4"}),(0,t.jsx)(g,{className:"h-20 w-full max-w-md mb-4"}),(0,t.jsx)(g,{className:"w-full max-w-md h-96"})]}):z?(0,t.jsxs)("div",{className:"min-h-screen w-full flex items-center justify-center",children:["데이터를 불러오는 데 실패했습니다: ",z]}):(0,t.jsxs)("div",{className:"min-h-screen w-full flex flex-col items-center p-6",style:{fontFamily:eg},children:[(0,t.jsx)("header",{className:"w-full max-w-md mx-auto mb-1",children:(0,t.jsx)(j.R,{name:(null==a?void 0:a.nickname)||void 0,subject:v.a[n]})}),(0,t.jsxs)("div",{className:"w-full max-w-md mx-auto mb-4 p-3 bg-card border border-border rounded-lg flex flex-wrap justify-center items-center gap-x-4 gap-y-2 text-sm",children:[(0,t.jsx)("span",{className:"font-semibold mr-4",children:"JLPT 레벨:"}),Object.keys(C).map(e=>(0,t.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,t.jsx)(r.S,{id:e,checked:el[e],onCheckedChange:()=>{ei(n=>({...n,[e]:!n[e]})),A(0),O(!1),J(1),H(!1)}}),(0,t.jsx)("span",{children:C[e]})]},e))]}),!a&&(0,t.jsx)(h.c,{onLoginClick:()=>c("login")}),"single"===$&&(0,t.jsxs)("div",{className:"mb-4 flex w-full max-w-md items-center justify-between text-sm mx-auto",children:[(0,t.jsxs)("span",{className:"text-muted-foreground",children:["⚡진행률 : ",em.length?"".concat(Math.min(E+1,em.length)," / ").concat(em.length):"0 / 0"]}),ek&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(o.$,{size:"sm",variant:"outline",onClick:()=>ee((null==ef?void 0:ef.onyomi)||""),disabled:!U||!ef||!ef.onyomi,children:"\uD83D\uDD0A 음독"}),(0,t.jsx)(o.$,{size:"sm",variant:"outline",onClick:()=>ee((null==ef?void 0:ef.kunyomi)||""),disabled:!U||!ef||!ef.kunyomi,children:"\uD83D\uDD0A 훈독"})]}),(0,t.jsx)(o.$,{size:"sm",variant:"outline",onClick:()=>W(!0),children:"⚙️ 설정"}),(0,t.jsx)(i.g,{open:V,onOpenChange:W,user:a,deckType:n,isTtsSupported:Q,selectedVoice:en,selectVoice:et,voices:ea,isSafari:es,fontFamily:q,setFontFamily:G,wordFontSize:X,setWordFontSize:Z,resetDeck:eh})]}),(0,t.jsx)("main",{className:"w-full max-w-5xl select-none",children:"single"===$?0===em.length?(0,t.jsx)(m.y,{viewMode:"single"}):ef&&(0,t.jsx)(x,{card:ef,isFlipped:L,isFav:!!M[ef.id],onFlip:ex,onToggleFav:()=>R(ef.id),kanjiFontSize:X,isWritingMode:B,onToggleWritingMode:()=>K(e=>!e),onNext:eu,onPrev:ep,onShuffle:()=>{ej(),K(!1)},onReset:()=>{eh(),K(!1)}},ef.id):0===em.length?(0,t.jsx)(m.y,{viewMode:"grid"}):(0,t.jsx)(u.o,{variant:"words",cards:ed.map(e=>({id:e.id,katakana:e.kanji,furigana:e.onyomi,answer:e.meaning,emoji:"\uD83C\uDC04"})),favs:M,flippedStates:eo,onToggleFav:e=>R(e),onToggleCardFlip:e=>er(n=>({...n,[e]:!n[e]})),page:{current:I,total:ec,onPrev:()=>J(e=>Math.max(e-1,1)),onNext:()=>J(e=>Math.min(e+1,ec))}})}),"single"===$&&!B&&(0,t.jsx)("div",{className:"mt-4 flex flex-wrap items-center justify-center gap-2 text-sm",children:(0,t.jsx)(p.A,{onPrev:ep,onNext:eu,onShuffle:ej,onReset:eh})}),(0,t.jsxs)("div",{className:"mt-4 flex flex-wrap items-center justify-center gap-4 text-sm",children:[a&&(0,t.jsx)(o.$,{variant:"outline",onClick:()=>{_(e=>"single"===e?"grid":"single"),O(!1)},children:"single"===$?"여러 장 모아보기":"한 장씩 학습하기"}),(0,t.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer p-3 border rounded-lg bg-card hover:bg-accent hover:text-accent-foreground",children:[(0,t.jsx)(r.S,{id:"only-favs-checkbox",checked:Y,onCheckedChange:e=>{H(!!e),A(0),O(!1),J(1)}}),(0,t.jsx)("span",{className:"font-semibold",children:"⭐ 즐겨찾기만 보기"})]})]}),(0,t.jsx)("footer",{className:"w-full max-w-md mx-auto mt-6 text-sm text-muted-foreground bg-card/so border border-border rounded-xl px-4 py-3",children:(0,t.jsxs)("ul",{className:"list-disc list-outside pl-6 space-y-1 leading-relaxed",children:[(0,t.jsx)("li",{children:"⚙️설정에서 TTS Voice, Font, 한자 폰트 크기를 조절할 수 있습니다."}),(0,t.jsxs)("li",{children:["키보드: ",(0,t.jsx)("kbd",{children:"Enter"})," 카드 뒤집기, ",(0,t.jsx)("kbd",{children:"←/→"})," 이전/다음"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("b",{children:"음독(音読み):"})," 한자의 중국 발음에서 유래한 읽기 방법."]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("b",{children:"훈독(訓読み):"})," 한자의 뜻에 해당하는 일본 고유의 말을 붙여 읽는 방법."]})]})})]})}}},e=>{e.O(0,[2992,7811,5707,3938,663,7415,1e3,213,6474,5764,8441,1255,7358],()=>e(e.s=3486)),_N_E=e.O()}]);