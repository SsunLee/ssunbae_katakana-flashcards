(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[918],{1949:(e,n,a)=>{"use strict";a.r(n),a.d(n,{default:()=>v});var t=a(5155),i=a(2115),s=a(9070),l=a(8324),o=a(2171),r=a(4643),d=a(5511);let c=e=>{let{card:n,isFlipped:a,isFav:i,onFlip:s,onToggleFav:l,kanjiFontSize:r}=e;return(0,t.jsx)("div",{className:"[perspective:1200px] w-full max-w-md mx-auto",children:(0,t.jsxs)("div",{role:"button",tabIndex:0,"aria-label":"flip card",onClick:s,className:"relative h-80 md:h-96 transition-transform duration-500 [transform-style:preserve-3d] cursor-pointer",style:{transform:a?"rotateY(180deg)":"rotateY(0deg)"},children:[(0,t.jsxs)("div",{className:"absolute inset-0 bg-card backdrop-blur rounded-2xl shadow-xl border border-border flex flex-col items-center justify-center p-6 [backface-visibility:hidden]",children:[(0,t.jsx)(o.$,{type:"button",size:"icon",variant:"secondary",onClick:e=>{e.stopPropagation(),l()},className:"absolute top-4 right-4 h-9 w-9 rounded-full",title:i?"즐겨찾기 해제":"즐겨찾기 추가",children:(0,t.jsx)("span",{className:"text-xl flex items-center justify-center w-full h-full",children:i?"⭐":"☆"})}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground mb-4",children:"카드를 클릭하여 뜻을 확인하세요"}),(0,t.jsx)("p",{className:"font-semibold leading-none text-center",style:{fontSize:"".concat(2*r,"px")},children:n.kanji})]}),(0,t.jsx)("div",{className:"absolute inset-0 bg-card backdrop-blur rounded-2xl shadow-xl border border-border flex flex-col items-center justify-center p-6 [transform:rotateY(180deg)] [backface-visibility:hidden]",children:(0,t.jsxs)("div",{className:"w-full text-center",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("p",{className:"text-lg answer-text",children:["음독: ",n.onyomi]}),(0,t.jsx)("div",{className:"my-1 font-bold",style:{fontSize:"".concat(1.5*r,"px")},children:n.kanji}),(0,t.jsxs)("p",{className:"text-lg answer-text",children:["훈독: ",n.kunyomi]})]}),(0,t.jsx)("div",{className:"w-full border-t ui-divider my-4"}),(0,t.jsxs)("div",{className:"w-full text-center space-y-1",children:[(0,t.jsx)("p",{className:"text-lg font-semibold text-foreground/90",children:n.exampleSentence}),(0,t.jsxs)("p",{className:"text-base text-muted-foreground",children:["(",n.exampleRomaji,")"]}),(0,t.jsx)("p",{className:"text-base text-foreground/90 mt-1",children:n.exampleTranslation})]})]})})]})})};var m=a(7288),x=a(5167),u=a(5577),h=a(509),p=a(5246),g=a(7627);let j=[{id:1,kanji:"日",meaning:"날, 해",onyomi:"にち, じつ",kunyomi:"ひ, -び, -か",exampleSentence:"今日はいい天気ですね。",exampleRomaji:"kyō wa ii tenki desu ne.",exampleTranslation:"오늘은 날씨가 좋네요."},{id:2,kanji:"一",meaning:"하나",onyomi:"いち, いつ",kunyomi:"ひと-",exampleSentence:"一番好きな食べ物は何ですか。",exampleRomaji:"ichiban sukina tabemono wa nan desu ka.",exampleTranslation:"가장 좋아하는 음식은 무엇인가요?"},{id:3,kanji:"国",meaning:"나라",onyomi:"こく",kunyomi:"くに",exampleSentence:"韓国は美しい国です。",exampleRomaji:"kankoku wa utsukushii kuni desu.",exampleTranslation:"한국은 아름다운 나라입니다."},{id:4,kanji:"人",meaning:"사람",onyomi:"じん, にん",kunyomi:"ひと",exampleSentence:"あの人は誰ですか。",exampleRomaji:"ano hito wa dare desu ka.",exampleTranslation:"저 사람은 누구입니까?"},{id:5,kanji:"年",meaning:"해, 년",onyomi:"ねん",kunyomi:"とし",exampleSentence:"来年、日本に行きます。",exampleRomaji:"rainen, nihon ni ikimasu.",exampleTranslation:"내년에 일본에 갑니다."},{id:6,kanji:"大",meaning:"크다",onyomi:"だい, たい",kunyomi:"おお-",exampleSentence:"この犬はとても大きいです。",exampleRomaji:"kono inu wa totemo ōkii desu.",exampleTranslation:"이 개는 매우 큽니다."},{id:7,kanji:"本",meaning:"책, 근본",onyomi:"ほん",kunyomi:"もと",exampleSentence:"図書館で本を読みます。",exampleRomaji:"toshokan de hon o yomimasu.",exampleTranslation:"도서관에서 책을 읽습니다."},{id:8,kanji:"中",meaning:"가운데",onyomi:"ちゅう",kunyomi:"なか",exampleSentence:"彼は部屋の中にいます。",exampleRomaji:"kare wa heya no naka ni imasu.",exampleTranslation:"그는 방 안에 있습니다."},{id:9,kanji:"長",meaning:"길다, 어른",onyomi:"ちょう",kunyomi:"なが-い",exampleSentence:"この川はとても長いです。",exampleRomaji:"kono kawa wa totemo nagai desu.",exampleTranslation:"이 강은 매우 깁니다."},{id:10,kanji:"出",meaning:"나다, 나오다",onyomi:"しゅつ, すい",kunyomi:"で-る, だ-す",exampleSentence:"家から早く出ました。",exampleRomaji:"ie kara hayaku demashita.",exampleTranslation:"집에서 일찍 나왔습니다."}];var k=a(8565),f=a(1206),y=a(7325),w=a(6401),b=a(6031);function v(){var e;let n="kanji-words",{user:a}=(0,s.A)(),{open:v}=(0,y.X)(),{deck:S,favs:N,toggleFav:T,shuffleDeck:C,resetDeckToInitial:F}=(0,g.c)({user:a,deckType:n,initialDeck:j}),[M,R]=(0,i.useState)(0),[E,D]=(0,i.useState)(!1),[z,A]=(0,i.useState)("single"),[L,P]=(0,i.useState)({}),[V,_]=(0,i.useState)(1),[$,I]=(0,i.useState)(!1),[O,Y]=(0,i.useState)(!1),[H,J]=(0,i.useState)("Noto Sans JP"),[W,Z]=(0,i.useState)(48),{isSupported:q,ready:U,speakJa:X,selectedVoice:B,voices:G,selectVoice:K,isSafari:Q}=(0,p.Z)(),ee=(0,i.useMemo)(()=>O?S.filter(e=>N[e.id]):S,[S,O,N]),{currentCards:en,totalPages:ea}=(0,i.useMemo)(()=>{let e=Math.ceil(ee.length/10)||1,n=(V-1)*10;return{currentCards:ee.slice(n,n+10),totalPages:e}},[V,ee]),et=(0,i.useCallback)(()=>D(e=>!e),[]),ei=(0,i.useCallback)(()=>{R(e=>(e+1)%Math.max(1,ee.length)),D(!1)},[ee.length]),es=(0,i.useCallback)(()=>{R(e=>(e-1+Math.max(1,ee.length))%Math.max(1,ee.length)),D(!1)},[ee.length]),el=()=>{F(),R(0),D(!1),P({}),_(1)},eo=null!=(e=ee[M])?e:null,er=(0,i.useMemo)(()=>k.y[H]||k.y["Noto Sans JP"],[H]);(0,i.useEffect)(()=>{let e=e=>{e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||"single"===z&&("Enter"===e.key||" "===e.key?(e.preventDefault(),et()):"ArrowRight"===e.key?ei():"ArrowLeft"===e.key&&es())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[z,et,ei,es]);let ed=(0,b.q)()&&"speechSynthesis"in window;return(0,t.jsxs)("div",{className:"min-h-screen w-full flex flex-col items-center p-6",style:{fontFamily:er},children:[(0,t.jsx)("header",{className:"w-full max-w-md mx-auto mb-1",children:(0,t.jsx)(u.R,{name:(null==a?void 0:a.nickname)||void 0,subject:w.a[n]})}),!a&&(0,t.jsx)(h.c,{onLoginClick:()=>v("login")}),"single"===z&&(0,t.jsxs)("div",{className:"mb-4 flex w-full max-w-md items-center justify-between text-sm mx-auto",children:[(0,t.jsxs)("span",{className:"text-muted-foreground",children:["⚡진행률 : ",ee.length?"".concat(Math.min(M+1,ee.length)," / ").concat(ee.length):"0 / 0"]}),ed&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(o.$,{size:"sm",variant:"outline",onClick:()=>X((null==eo?void 0:eo.onyomi)||""),disabled:!U||!eo||!eo.onyomi,children:"\uD83D\uDD0A 음독"}),(0,t.jsx)(o.$,{size:"sm",variant:"outline",onClick:()=>X((null==eo?void 0:eo.kunyomi)||""),disabled:!U||!eo||!eo.kunyomi,children:"\uD83D\uDD0A 훈독"})]}),(0,t.jsx)(o.$,{size:"sm",variant:"outline",onClick:()=>I(!0),"aria-haspopup":"dialog","aria-expanded":$,title:"설정",children:"⚙️ 설정"}),(0,t.jsx)(l.g,{open:$,onOpenChange:I,user:a,deckType:n,isTtsSupported:q,selectedVoice:B,selectVoice:K,voices:G,isSafari:Q,fontFamily:H,setFontFamily:J,wordFontSize:W,setWordFontSize:Z,resetDeck:el})]}),(0,t.jsx)("main",{className:"w-full max-w-5xl select-none",children:"single"===z?0===ee.length?(0,t.jsx)(d.y,{viewMode:"single"}):eo&&(0,t.jsx)(c,{card:eo,isFlipped:E,isFav:!!N[eo.id],onFlip:et,onToggleFav:()=>T(eo.id),kanjiFontSize:W},eo.id):0===ee.length?(0,t.jsx)(d.y,{viewMode:"grid"}):(0,t.jsx)(m.o,{variant:"words",cards:en.map(e=>({id:e.id,katakana:e.kanji,furigana:e.onyomi,answer:e.meaning,emoji:"\uD83C\uDC04"})),favs:N,flippedStates:L,onToggleFav:e=>T(e),onToggleCardFlip:e=>P(n=>({...n,[e]:!n[e]})),page:{current:V,total:ea,onPrev:()=>_(e=>Math.max(e-1,1)),onNext:()=>_(e=>Math.min(e+1,ea))}})}),"single"===z&&(0,t.jsx)("div",{className:"mt-4 flex flex-wrap items-center justify-center gap-2 text-sm",children:(0,t.jsx)(x.A,{onPrev:es,onNext:ei,onShuffle:()=>{C(),R(0),D(!1)},onReset:el})}),(0,t.jsxs)("div",{className:"mt-4 flex flex-wrap items-center justify-center gap-4 text-sm",children:[a&&(0,t.jsx)(o.$,{variant:"outline",onClick:()=>{A(e=>"single"===e?"grid":"single"),D(!1)},children:"single"===z?"여러 장 모아보기":"한 장씩 학습하기"}),(0,t.jsxs)("label",{className:"flex items-center gap-3 px-3 py-2 rounded-xl border border-border bg-card",children:[(0,t.jsx)("span",{className:"text-foreground font-semibold",children:"⭐ Only"}),(0,t.jsx)(r.d,{checked:O,onCheckedChange:e=>{Y(e),R(0),D(!1),_(1)}})]})]}),(0,t.jsx)("footer",{className:"w-full max-w-md mx-auto mt-6 text-sm text-muted-foreground bg-card/50 border border-border rounded-xl px-4 py-3",children:(0,t.jsxs)("ul",{className:"list-disc list-outside pl-6 space-y-1 leading-relaxed",children:[(0,t.jsx)("li",{children:"⚙️설정에서 TTS Voice, Font, 한자 폰트 크기를 조절할 수 있습니다."}),(0,t.jsxs)("li",{children:["키보드: ",(0,t.jsx)("kbd",{children:"Enter"})," 카드 뒤집기, ",(0,t.jsx)("kbd",{children:"←/→"})," 이전/다음"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("b",{children:"음독(音読み):"})," 한자의 중국 발음에서 유래한 읽기 방법."]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("b",{children:"훈독(訓読み):"})," 한자의 뜻에 해당하는 일본 고유의 말을 붙여 읽는 방법."]})]})}),(0,t.jsx)("div",{className:"mt-4 text-center",children:(0,t.jsxs)("span",{className:"text-muted-foreground/60 text-xs",children:["한자 공부 v",f.h]})})]})}},3486:(e,n,a)=>{Promise.resolve().then(a.bind(a,1949))},5246:(e,n,a)=>{"use strict";a.d(n,{Z:()=>l});var t=a(2115);let i=()=>"speechSynthesis"in window,s=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent);function l(){let[e,n]=(0,t.useState)([]),[a,l]=(0,t.useState)(null),[o]=(0,t.useState)(i),[r]=(0,t.useState)(s),[d,c]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if(!o)return;let e=()=>{let e=window.speechSynthesis.getVoices();if(0===e.length)return;let a=e.filter(e=>e.lang.startsWith("ja"));if(n(a),a.length>0){let e=localStorage.getItem("jaVoiceName");l(a.find(n=>n.name===e)||a[0]),c(!0)}};return window.speechSynthesis.addEventListener("voiceschanged",e),e(),()=>{window.speechSynthesis.removeEventListener("voiceschanged",e)}},[o]);let m=(0,t.useCallback)(e=>{if(e){l(e);try{localStorage.setItem("jaVoiceName",e.name)}catch(e){console.error("Failed to save voice to localStorage",e)}}},[]),x=(0,t.useCallback)(e=>{if(d&&a&&e){window.speechSynthesis.cancel();let n=new SpeechSynthesisUtterance(e);n.voice=a,n.lang=a.lang,window.speechSynthesis.speak(n)}},[d,a]);return{isSupported:o,ready:d,speakJa:x,selectedVoice:a,voices:e,selectVoice:m,isSafari:r}}}},e=>{e.O(0,[992,811,549,707,663,765,779,441,255,358],()=>e(e.s=3486)),_N_E=e.O()}]);