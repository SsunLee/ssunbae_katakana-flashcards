(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[27],{2721:(e,a,n)=>{Promise.resolve().then(n.bind(n,5939))},5939:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>w});var t=n(5155),s=n(2115),i=n(2171);function o(e){let{char:a,isFlipped:n,isFav:s,onFlip:o,onToggleFav:r,fontSize:l,onToggleWritingMode:d}=e;return(0,t.jsx)("div",{className:"[perspective:1200px] w-full max-w-md mx-auto",children:(0,t.jsxs)("div",{role:"button",tabIndex:0,"aria-label":"flip card",onClick:o,className:"relative h-80 md:h-96 transition-transform duration-500 [transform-style:preserve-3d] cursor-pointer",style:{transform:n?"rotateY(180deg)":"rotateY(0deg)"},children:[(0,t.jsxs)("div",{className:"absolute inset-0 bg-card backdrop-blur rounded-2xl shadow-xl border border-border flex flex-col items-center justify-center p-6 [backface-visibility:hidden]",children:[(0,t.jsx)(i.$,{type:"button",size:"icon",variant:"secondary",onClick:e=>{e.stopPropagation(),d()},className:"absolute top-4 left-4 h-9 w-9 rounded-full z-10",title:"쓰기 모드",children:(0,t.jsx)("span",{className:"text-xl flex items-center justify-center w-full h-full",children:"✏️"})}),(0,t.jsx)(i.$,{type:"button",size:"icon",variant:"secondary",onClick:e=>{e.stopPropagation(),r()},className:"absolute top-4 right-4 h-9 w-9 rounded-full z-10",title:s?"즐겨찾기 해제":"즐겨찾기 추가",children:(0,t.jsx)("span",{className:"text-xl flex items-center justify-center w-full h-full",children:s?"⭐":"☆"})}),(0,t.jsx)("div",{className:"text-center font-bold",style:{fontSize:"".concat(l,"px")},children:a.char}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground bg-muted px-3 py-1 rounded-full mt-4",children:"vowel"===a.type?"모음":"자음"})]}),(0,t.jsxs)("div",{className:"absolute inset-0 bg-card backdrop-blur rounded-2xl shadow-xl border border-primary/50 rounded-2xl p-6 [transform:rotateY(180deg)] [backface-visibility:hidden] flex flex-col items-center justify-center",children:[(0,t.jsx)(i.$,{type:"button",size:"icon",variant:"secondary",onClick:e=>{e.stopPropagation(),r()},className:"absolute top-4 right-4 h-9 w-9 rounded-full z-10",title:s?"즐겨찾기 해제":"즐겨찾기 추가",children:(0,t.jsx)("span",{className:"text-xl flex items-center justify-center w-full h-full",children:s?"⭐":"☆"})}),(0,t.jsxs)("div",{className:"w-full text-center space-y-3",children:[(0,t.jsx)("div",{className:"font-bold text-foreground",style:{fontSize:"".concat(.9*l,"px")},children:a.char}),(0,t.jsx)("div",{className:"text-2xl text-primary font-semibold",children:a.romanization}),(0,t.jsx)("div",{className:"text-base text-muted-foreground",children:a.meaning}),a.example&&(0,t.jsxs)("div",{className:"text-sm text-muted-foreground/80 mt-4 p-3 bg-muted/50 rounded-lg",children:["예: ",a.example]})]})]})]})})}function r(e){let{chars:a,favs:n,flippedStates:s,onToggleFav:o,onToggleCardFlip:r,page:l,fontSize:d}=e;return(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-6",children:a.map(e=>(0,t.jsx)("div",{className:"perspective-1000 cursor-pointer",onClick:()=>r(e.id),children:(0,t.jsxs)("div",{className:"relative w-full aspect-square transition-transform duration-500 transform-style-3d ".concat(s[e.id]?"rotate-y-180":""),children:[(0,t.jsxs)("div",{className:"absolute inset-0 backface-hidden bg-card border border-border rounded-xl shadow p-4 flex flex-col items-center justify-center",children:[(0,t.jsx)("div",{style:{fontSize:"".concat(Math.round(.6*d),"px")},className:"font-bold",children:e.char}),(0,t.jsx)("button",{onClick:a=>{a.stopPropagation(),o(e.id)},className:"absolute top-2 right-2",children:n[e.id]?"⭐":"☆"})]}),(0,t.jsxs)("div",{className:"absolute inset-0 backface-hidden rotate-y-180 bg-card border border-primary/50 rounded-xl shadow p-4 flex flex-col items-center justify-center text-center",children:[(0,t.jsx)("div",{className:"text-lg font-semibold text-primary mb-1",children:e.romanization}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:e.meaning})]})]})},e.id))}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,t.jsx)(i.$,{variant:"outline",size:"sm",onClick:l.onPrev,disabled:1===l.current,children:"이전"}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:[l.current," / ",l.total]}),(0,t.jsx)(i.$,{variant:"outline",size:"sm",onClick:l.onNext,disabled:l.current===l.total,children:"다음"})]})]})}var l=n(9070),d=n(7325),c=n(8324),m=n(7120),x=n(5511),u=n(5167),p=n(5577),h=n(509),g=n(5314),y=n(7627),f=n(8298);let k=[{id:1,char:"ㄱ",romanization:"g/k",meaning:"g as in 'go' / gの音",type:"consonant",strokes:2,example:"가 (ga)"},{id:2,char:"ㄴ",romanization:"n",meaning:"n as in 'no' / nの音",type:"consonant",strokes:2,example:"나 (na)"},{id:3,char:"ㄷ",romanization:"d/t",meaning:"d as in 'do' / dの音",type:"consonant",strokes:3,example:"다 (da)"},{id:4,char:"ㄹ",romanization:"r/l",meaning:"r/l sound / rの音",type:"consonant",strokes:5,example:"라 (ra)"},{id:5,char:"ㅁ",romanization:"m",meaning:"m as in 'mom' / mの音",type:"consonant",strokes:4,example:"마 (ma)"},{id:6,char:"ㅂ",romanization:"b/p",meaning:"b as in 'big' / bの音",type:"consonant",strokes:4,example:"바 (ba)"},{id:7,char:"ㅅ",romanization:"s",meaning:"s as in 'sea' / sの音",type:"consonant",strokes:2,example:"사 (sa)"},{id:8,char:"ㅇ",romanization:"ng/silent",meaning:"silent (initial) / 無音",type:"consonant",strokes:1,example:"아 (a)"},{id:9,char:"ㅈ",romanization:"j",meaning:"j as in 'jump' / jの音",type:"consonant",strokes:3,example:"자 (ja)"},{id:10,char:"ㅊ",romanization:"ch",meaning:"ch as in 'church' / chの音",type:"consonant",strokes:4,example:"차 (cha)"},{id:11,char:"ㅋ",romanization:"k",meaning:"k as in 'key' / kの音",type:"consonant",strokes:3,example:"카 (ka)"},{id:12,char:"ㅌ",romanization:"t",meaning:"t as in 'top' / tの音",type:"consonant",strokes:4,example:"타 (ta)"},{id:13,char:"ㅍ",romanization:"p",meaning:"p as in 'pop' / pの音",type:"consonant",strokes:4,example:"파 (pa)"},{id:14,char:"ㅎ",romanization:"h",meaning:"h as in 'hot' / hの音",type:"consonant",strokes:3,example:"하 (ha)"},{id:15,char:"ㅏ",romanization:"a",meaning:"a as in 'father' / aの音",type:"vowel",strokes:2,example:"아 (a)"},{id:16,char:"ㅑ",romanization:"ya",meaning:"ya as in 'yard' / yaの音",type:"vowel",strokes:3,example:"야 (ya)"},{id:17,char:"ㅓ",romanization:"eo",meaning:"o as in 'box' / oの音",type:"vowel",strokes:2,example:"어 (eo)"},{id:18,char:"ㅕ",romanization:"yeo",meaning:"yo sound / yoの音",type:"vowel",strokes:3,example:"여 (yeo)"},{id:19,char:"ㅗ",romanization:"o",meaning:"o as in 'go' / oの音",type:"vowel",strokes:2,example:"오 (o)"},{id:20,char:"ㅛ",romanization:"yo",meaning:"yo as in 'yolk' / yoの音",type:"vowel",strokes:3,example:"요 (yo)"},{id:21,char:"ㅜ",romanization:"u",meaning:"u as in 'food' / uの音",type:"vowel",strokes:2,example:"우 (u)"},{id:22,char:"ㅠ",romanization:"yu",meaning:"yu sound / yuの音",type:"vowel",strokes:3,example:"유 (yu)"},{id:23,char:"ㅡ",romanization:"eu",meaning:"eu sound (like 'uh') / euの音",type:"vowel",strokes:1,example:"으 (eu)"},{id:24,char:"ㅣ",romanization:"i",meaning:"i as in 'see' / iの音",type:"vowel",strokes:1,example:"이 (i)"},{id:25,char:"ㄲ",romanization:"kk",meaning:"double k / 濃音k",type:"consonant",strokes:4,example:"까 (kka)"},{id:26,char:"ㄸ",romanization:"tt",meaning:"double t / 濃音t",type:"consonant",strokes:6,example:"따 (tta)"},{id:27,char:"ㅃ",romanization:"pp",meaning:"double p / 濃音p",type:"consonant",strokes:8,example:"빠 (ppa)"},{id:28,char:"ㅆ",romanization:"ss",meaning:"double s / 濃音s",type:"consonant",strokes:4,example:"싸 (ssa)"},{id:29,char:"ㅉ",romanization:"jj",meaning:"double j / 濃音j",type:"consonant",strokes:6,example:"짜 (jja)"},{id:30,char:"ㅐ",romanization:"ae",meaning:"ae as in 'cat' / aeの音",type:"vowel",strokes:3,example:"애 (ae)"},{id:31,char:"ㅒ",romanization:"yae",meaning:"yae sound / yaeの音",type:"vowel",strokes:4,example:"얘 (yae)"},{id:32,char:"ㅔ",romanization:"e",meaning:"e as in 'bed' / eの音",type:"vowel",strokes:3,example:"에 (e)"},{id:33,char:"ㅖ",romanization:"ye",meaning:"ye as in 'yes' / yeの音",type:"vowel",strokes:4,example:"예 (ye)"},{id:34,char:"ㅘ",romanization:"wa",meaning:"wa sound / waの音",type:"vowel",strokes:4,example:"와 (wa)"},{id:35,char:"ㅙ",romanization:"wae",meaning:"wae sound / waeの音",type:"vowel",strokes:5,example:"왜 (wae)"},{id:36,char:"ㅚ",romanization:"oe",meaning:"oe sound / oeの音",type:"vowel",strokes:3,example:"외 (oe)"},{id:37,char:"ㅝ",romanization:"wo",meaning:"wo sound / woの音",type:"vowel",strokes:4,example:"워 (wo)"},{id:38,char:"ㅞ",romanization:"we",meaning:"we sound / weの音",type:"vowel",strokes:5,example:"웨 (we)"},{id:39,char:"ㅟ",romanization:"wi",meaning:"wi sound / wiの音",type:"vowel",strokes:3,example:"위 (wi)"},{id:40,char:"ㅢ",romanization:"ui",meaning:"ui sound / uiの音",type:"vowel",strokes:2,example:"의 (ui)"}];var b=n(8565),v=n(6401),j=n(6031);function w(){var e,a;let{ttsReady:n,speakKo:w,voices:z,selectedVoice:N,selectVoice:C}=(0,f.q)(),S="korean-chars",{user:M}=(0,l.A)(),{open:F}=(0,d.X)(),{deck:E,favs:P,toggleFav:T,shuffleDeck:$,resetDeckToInitial:A}=(0,y.c)({user:M,deckType:S,initialDeck:k}),[D,L]=(0,s.useState)(0),[R,_]=(0,s.useState)(!1),[O,q]=(0,s.useState)("single"),[Y,H]=(0,s.useState)(1),[I,K]=(0,s.useState)(!1),[V,W]=(0,s.useState)(!1),[X,B]=(0,s.useState)("Noto Sans KR"),[G,J]=(0,s.useState)(96),[Q,U]=(0,s.useState)(!1),[Z,ee]=(0,s.useState)({}),ea=(0,s.useMemo)(()=>V?E.filter(e=>P[e.id]):E,[E,V,P]),{currentCards:en,totalPages:et}=(0,s.useMemo)(()=>{let e=Math.ceil(ea.length/12)||1,a=(Y-1)*12;return{currentCards:ea.slice(a,a+12),totalPages:e}},[Y,ea]),es=(0,s.useCallback)(()=>_(e=>!e),[]),ei=(0,s.useCallback)(()=>{_(!1)},[]),eo=(0,s.useCallback)(()=>{let e=Math.max(1,ea.length);L(a=>(a+1)%e),ei()},[ea.length,ei]),er=(0,s.useCallback)(()=>{let e=Math.max(1,ea.length);L(a=>(a-1+e)%e),ei()},[ea.length,ei]),el=(0,s.useCallback)(()=>{$(),L(0),ei()},[$,ei]),ed=(0,s.useCallback)(()=>{A(),L(0),ei(),ee({}),U(!1),H(1)},[A,ei]),ec=null!=(e=ea[D])?e:null,em=(0,s.useMemo)(()=>b.y[X]||b.y["Noto Sans KR"],[X]);if((0,s.useEffect)(()=>{let e=e=>{Q||e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||"single"===O&&("Enter"===e.key||" "===e.key?(e.preventDefault(),es()):"ArrowRight"===e.key?eo():"ArrowLeft"===e.key&&er())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[O,es,eo,er,Q]),!(0,j.q)())return(0,t.jsx)("div",{className:"min-h-screen w-full bg-background flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-foreground",children:"로딩 중..."})});let ex=null!=(a=v.a[S])?a:"한글 자모 학습";return(0,t.jsxs)("div",{className:"min-h-screen w-full flex flex-col items-center p-6",style:{fontFamily:em},children:[(0,t.jsx)("header",{className:"w-full max-w-md mx-auto mb-1",children:(0,t.jsx)(p.R,{name:(null==M?void 0:M.nickname)||void 0,subject:ex})}),!M&&(0,t.jsx)(h.c,{onLoginClick:()=>F("login")}),"single"===O&&(0,t.jsxs)("div",{className:"mb-4 flex w-full max-w-md items-center justify-between text-sm mx-auto",children:[(0,t.jsxs)("span",{className:"text-muted-foreground",children:["⚡진행률 : ",ea.length?"".concat(Math.min(D+1,ea.length)," / ").concat(ea.length):"0 / 0"]}),(0,t.jsx)("div",{className:"flex-1 flex justify-center",children:(0,t.jsx)(i.$,{size:"sm",variant:"outline",onClick:()=>w((null==ec?void 0:ec.char)||""),disabled:!n||!ec,title:"듣기",children:"\uD83D\uDD0A 듣기 (한글)"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(i.$,{size:"sm",variant:"outline",onClick:()=>K(!0),"aria-haspopup":"dialog","aria-expanded":I,title:"설정",children:"⚙️ 설정"}),(0,t.jsx)(c.g,{open:I,onOpenChange:K,user:M,deckType:S,isTtsSupported:n,selectedVoice:N,selectVoice:C,voices:z,isSafari:!1,fontFamily:X,setFontFamily:B,resetDeck:ed,wordFontSize:G,setWordFontSize:J})]})]}),(0,t.jsx)("main",{className:"w-full max-w-5xl select-none",children:Q?(0,t.jsx)(g.A,{word:(null==ec?void 0:ec.char)||"",expectedStrokes:null==ec?void 0:ec.strokes,onClose:()=>U(!1),onNext:eo,onPrev:er,onShuffle:el,onReset:ed}):"single"===O?0===ea.length?(0,t.jsx)(x.y,{viewMode:"single"}):ec&&(0,t.jsx)(o,{char:ec,isFlipped:R,isFav:!!P[ec.id],onFlip:es,onToggleFav:()=>T(ec.id),fontSize:G,onToggleWritingMode:()=>U(!0)}):0===ea.length?(0,t.jsx)(x.y,{viewMode:"grid"}):(0,t.jsx)(r,{chars:en,favs:P,flippedStates:Z,onToggleFav:e=>T(e),onToggleCardFlip:e=>ee(a=>({...a,[e]:!a[e]})),page:{current:Y,total:et,onPrev:()=>H(e=>Math.max(e-1,1)),onNext:()=>H(e=>Math.min(e+1,et))},fontSize:G})}),"single"===O&&!Q&&(0,t.jsx)("div",{className:"mt-4 flex flex-wrap items-center justify-center gap-2 text-sm",children:(0,t.jsx)(u.A,{onPrev:er,onNext:eo,onShuffle:el,onReset:ed})}),(0,t.jsxs)("div",{className:"mt-4 flex flex-wrap items-center justify-center gap-4 text-sm",children:[M&&(0,t.jsx)(i.$,{variant:"outline",onClick:()=>{q(e=>"single"===e?"grid":"single"),_(!1),U(!1)},children:"single"===O?"여러 장 모아보기":"한 장씩 학습하기"}),(0,t.jsxs)("label",{className:"flex items-center gap-3 px-3 py-2 rounded-xl border border-border bg-card",children:[(0,t.jsx)("span",{className:"text-foreground font-semibold",children:"⭐ Only"}),(0,t.jsx)(m.d,{checked:V,onCheckedChange:e=>{W(e),L(0),_(!1),H(1)}})]})]}),"single"===O&&!Q&&(0,t.jsx)("footer",{className:"w-full max-w-md mx-auto mt-6 text-sm text-muted-foreground bg-card/50 border border-border rounded-xl px-4 py-3",children:(0,t.jsxs)("ul",{className:"list-disc list-outside pl-6 space-y-1 leading-relaxed",children:[(0,t.jsx)("li",{children:"⚙️설정에서 Font와 크기를 조절할 수 있습니다."}),(0,t.jsxs)("li",{children:["키보드: Enter 카드 뒤집기, ",(0,t.jsx)("kbd",{children:"←/→"})," 이전/다음"]}),(0,t.jsx)("li",{children:"✍️ 쓰기 모드로 한글을 직접 써보세요!"})]})})]})}}},e=>{e.O(0,[2992,7811,5707,3938,663,7415,8171,319,8441,1255,7358],()=>e(e.s=2721)),_N_E=e.O()}]);