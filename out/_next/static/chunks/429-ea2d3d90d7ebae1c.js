"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[429],{5314:(e,t,n)=>{n.d(t,{A:()=>o});var s=n(5155),l=n(2115),i=n(2171),r=n(8456),a=n(8298);function o(e){let{word:t,expectedStrokes:n,onClose:o,onNext:c,onPrev:u,onShuffle:d,onReset:h}=e,[f,m]=(0,l.useState)(!1),[p,x]=(0,l.useState)([]),[g,w]=(0,l.useState)([]),[b,k]=(0,l.useState)(!0),[v,y]=(0,l.useState)(!1),j=(0,l.useRef)(null),S=(0,l.useRef)(null),N=document.documentElement.classList.contains("dark"),T=N?"#ffffff":"#000000";(0,l.useEffect)(()=>{let e=j.current;if(!e)return;e.width=300,e.height=300;let t=e.getContext("2d");t&&(t.lineCap="round",t.strokeStyle=T,t.lineWidth=4,S.current=t,C(t))},[T]);let C=e=>{e.strokeStyle=N?"#374151":"#e2e8f0",e.lineWidth=1,e.beginPath(),e.moveTo(150,0),e.lineTo(150,300),e.moveTo(0,150),e.lineTo(300,150),e.stroke(),e.setLineDash([5,5]),e.beginPath(),e.moveTo(0,0),e.lineTo(300,300),e.moveTo(300,0),e.lineTo(0,300),e.stroke(),e.setLineDash([])},E=()=>{let e=j.current,n=S.current;e&&n&&(n.save(),n.globalAlpha=.25*!!b,n.font='120px "Noto Sans KR", sans-serif',n.fillStyle=N?"#6b7280":"#94a3b8",n.textAlign="center",n.textBaseline="middle",n.fillText(t,150,150),n.restore())},R=()=>{let e=S.current;e&&(x([]),w([]),y(!1),e.clearRect(0,0,300,300),C(e),E())};(0,l.useEffect)(()=>{R()},[t]),(0,l.useEffect)(()=>{let e=j.current,t=S.current;e&&t&&(t.clearRect(0,0,300,300),C(t),E(),t.strokeStyle=T,t.lineWidth=4,p.forEach(e=>{let n=JSON.parse(e);t.beginPath(),n.forEach((e,n)=>{0===n?t.moveTo(e.x,e.y):t.lineTo(e.x,e.y)}),t.stroke()}))},[b,p,t,T,N]);let M=e=>{let t=j.current;if(!t)return null;let n=t.getBoundingClientRect(),s="touches"in e?e.touches[0].clientX:e.clientX,l="touches"in e?e.touches[0].clientY:e.clientY,i=t.width/n.width,r=t.height/n.height;return{x:(s-n.left)*i,y:(l-n.top)*r}},z=e=>{e.preventDefault();let t=M(e);if(!t)return;m(!0),w([t]);let n=S.current;n&&(n.beginPath(),n.moveTo(t.x,t.y))},A=e=>{if(e.preventDefault(),!f)return;let t=M(e);if(!t)return;w(e=>[...e,t]);let n=S.current;n&&(n.strokeStyle=T,n.lineWidth=4,n.lineTo(t.x,t.y),n.stroke())},P=()=>{if(f)if(m(!1),g.length>0&&x(e=>[...e,JSON.stringify(g)]),w([]),n){let e=Math.max(1,n-1),t=n+1;p.length>=e&&p.length<=t&&setTimeout(()=>y(!0),500)}else{let e=3*t.length;p.length>=e-1&&setTimeout(()=>y(!0),500)}};return(0,s.jsxs)("div",{className:"w-full flex flex-col items-center gap-4 p-4 bg-card/95 rounded-lg",children:[(0,s.jsxs)("header",{className:"flex items-center justify-between w-full max-w-md",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium",children:["한국어 쓰기: ",t]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>k(!b),className:(0,r.cn)("transition-colors",b?"bg-primary/10":""),children:b?"힌트 끄기":"힌트 보기"}),(0,s.jsx)(i.$,{variant:"ghost",size:"sm",onClick:o,children:"닫기"})]})]}),(0,s.jsxs)("main",{className:"relative w-full aspect-square max-w-md border-2 border-border rounded-lg bg-background touch-none",children:[(0,s.jsx)("canvas",{ref:j,className:"w-full h-full",style:{touchAction:"none"},onMouseDown:z,onMouseMove:A,onMouseUp:P,onMouseLeave:P,onTouchStart:z,onTouchMove:A,onTouchEnd:P}),v&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80 dark:bg-black/80 animate-in fade-in duration-500 pointer-events-none",children:(0,s.jsx)(a.A,{className:"w-16 h-16 text-green-500 animate-in zoom-in-50 duration-700"})})]}),(0,s.jsxs)("footer",{className:"flex flex-col items-center justify-center w-full max-w-md gap-2",children:[(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-2 w-full",children:[(0,s.jsx)(i.$,{variant:"outline",size:"sm",onClick:u,children:"이전"}),(0,s.jsx)(i.$,{variant:"outline",size:"sm",onClick:c,children:"다음"}),(0,s.jsx)(i.$,{variant:"outline",size:"sm",onClick:d,children:"섞기"}),(0,s.jsx)(i.$,{variant:"outline",size:"sm",onClick:h,children:"리셋"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:["획 수: ",(0,s.jsx)("span",{className:"font-semibold text-foreground",children:p.length}),n&&(0,s.jsxs)("span",{className:"ml-2 text-xs",children:["(목표: ",n,"획)"]})]}),(0,s.jsx)(i.$,{variant:"outline",size:"sm",onClick:R,className:"text-destructive",children:"지우기"})]})]})]})}},5917:(e,t,n)=>{n.d(t,{q:()=>l});var s=n(2115);function l(){let[e,t]=(0,s.useState)(!1),[n,l]=(0,s.useState)([]),[i,r]=(0,s.useState)(null);return(0,s.useEffect)(()=>{if(window.speechSynthesis)return window.speechSynthesis.onvoiceschanged=e,e(),()=>{window.speechSynthesis.onvoiceschanged=null};function e(){let e=window.speechSynthesis.getVoices().filter(e=>e.lang.startsWith("ko"));l(e),!(e.length>0)||i&&e.includes(i)||r(e[0]),t(e.length>0)}},[i]),{ttsReady:e,speakKo:t=>{if(!e||!window.speechSynthesis)return;window.speechSynthesis.cancel();let n=new window.SpeechSynthesisUtterance(t);n.lang="ko-KR",i&&(n.voice=i),window.speechSynthesis.speak(n)},voices:n,selectedVoice:i,selectVoice:e=>{r(e)}}}},7120:(e,t,n)=>{n.d(t,{d:()=>j});var s=n(5155),l=n(2115),i=n(2556),r=n(4446),a=n(3468),o=n(3558),c=n(8108),u=n(4288),d=n(7602),h="Switch",[f,m]=(0,a.A)(h),[p,x]=f(h),g=l.forwardRef((e,t)=>{let{__scopeSwitch:n,name:a,checked:c,defaultChecked:u,required:f,disabled:m,value:x="on",onCheckedChange:g,form:w,...b}=e,[y,j]=l.useState(null),S=(0,r.s)(t,e=>j(e)),N=l.useRef(!1),T=!y||w||!!y.closest("form"),[C,E]=(0,o.i)({prop:c,defaultProp:null!=u&&u,onChange:g,caller:h});return(0,s.jsxs)(p,{scope:n,checked:C,disabled:m,children:[(0,s.jsx)(d.sG.button,{type:"button",role:"switch","aria-checked":C,"aria-required":f,"data-state":v(C),"data-disabled":m?"":void 0,disabled:m,value:x,...b,ref:S,onClick:(0,i.mK)(e.onClick,e=>{E(e=>!e),T&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})}),T&&(0,s.jsx)(k,{control:y,bubbles:!N.current,name:a,value:x,checked:C,required:f,disabled:m,form:w,style:{transform:"translateX(-100%)"}})]})});g.displayName=h;var w="SwitchThumb",b=l.forwardRef((e,t)=>{let{__scopeSwitch:n,...l}=e,i=x(w,n);return(0,s.jsx)(d.sG.span,{"data-state":v(i.checked),"data-disabled":i.disabled?"":void 0,...l,ref:t})});b.displayName=w;var k=l.forwardRef((e,t)=>{let{__scopeSwitch:n,control:i,checked:a,bubbles:o=!0,...d}=e,h=l.useRef(null),f=(0,r.s)(h,t),m=(0,c.Z)(a),p=(0,u.X)(i);return l.useEffect(()=>{let e=h.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(m!==a&&t){let n=new Event("click",{bubbles:o});t.call(e,a),e.dispatchEvent(n)}},[m,a,o]),(0,s.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...d,tabIndex:-1,ref:f,style:{...d.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function v(e){return e?"checked":"unchecked"}k.displayName="SwitchBubbleInput";var y=n(8456);let j=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,s.jsx)(g,{ref:t,className:(0,y.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full","border-2 border-transparent bg-white/10 transition-colors data-[state=checked]:bg-white/70",n),...l,children:(0,s.jsx)(b,{className:(0,y.cn)("pointer-events-none block h-5 w-5 rounded-full bg-slate-900 shadow-lg ring-0 transition-transform","translate-x-0 data-[state=checked]:translate-x-5")})})});j.displayName="Switch"},8298:(e,t,n)=>{n.d(t,{A:()=>s});let s=(0,n(1847).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])}}]);