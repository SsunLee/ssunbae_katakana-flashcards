"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8166],{4936:(e,t,a)=>{a.d(t,{BO:()=>n,UU:()=>r});let r={DEFAULT:"문제가 발생했습니다. 다시 시도해주세요.",CONTENT_GENERATION_FAILED:"콘텐츠 생성에 실패했습니다. 잠시 후 다시 시도해주세요.",CANNOT_PARSE_SERVER_RESPONSE:"서버 응답을 처리하는 데 실패했습니다. 잠시 후 다시 시도해주세요.",INVALIDE_TOPIC:"주제가 너무 짧거나 부적절합니다. 더 구체적으로 입력해주세요.",AUTH_REQUIRED:"이 기능을 사용하려면 로그인이 필요합니다."},n={GUIDE_TTS_FONT:"⚙️ 설정에서 TTS Voice, Font, 폰트 크기를 조절할 수 있습니다.",GUIDE_AI_STUDY:"⚙️ 설정에서 AI 단어 추가 학습을 할 수 있습니다.",KEYBOARD_GUIDE:{PREFIX:"키보드 : ",ENTER:"카드 뒤집기 ",ARROWS:" 이전/다음"},APP_INFO:e=>"가타카나 공부 v".concat(e),GITHUB_LINK:"SsunLee@github"}},5054:(e,t,a)=>{a.d(t,{h:()=>l});var r=a(2115),n=a(8720);let s={success:(e,t)=>n.oR.success(e,{description:t}),error:(e,t)=>n.oR.error(e,{description:t,duration:3200})};async function i(e){let{deckType:t,topic:a,count:r,setDeck:n,setIndex:i,setFlipped:l,setFlippedStates:o,setCurrentPage:c,setLoadingImport:d,closeSettings:u,fetchGeneratedContent:m,successMessage:y=(e,t)=>"주제: ".concat(e," \xb7 ").concat(t,"개 생성"),errorFallback:f="콘텐츠 생성에 실패했습니다."}=e;u&&(u(),await new Promise(e=>requestAnimationFrame(()=>requestAnimationFrame(()=>e())))),d(!0);try{let e=await m(t,a,r);n(e),i(0),l(!1),o({}),c(1),s.success("AI 단어 생성 완료","주제: ".concat(a," \xb7 ").concat(e.length,"개 생성"))}catch(t){var h;let e=null!=(h=null==t?void 0:t.message)?h:f;console.error("콘텐츠 생성 오류:",t),s.error("생성 실패",e)}finally{d(!1);try{document.body.style.overflow=""}catch(e){}}}function l(e){return{importContent:(0,r.useCallback)((t,a)=>i({...e,topic:t,count:a}),[e])}}},7288:(e,t,a)=>{a.d(t,{o:()=>s});var r=a(5155);a(2115);var n=a(2171);function s(e){let{cards:t,favs:a,flippedStates:s,onToggleFav:i,onToggleCardFlip:l,page:o,variant:c="words",renderFront:d,renderBack:u}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex flex-wrap justify-center gap-4",children:t.map(e=>(0,r.jsx)("div",{className:"w-40 [perspective:1200px] cursor-pointer group",onClick:()=>l(e.id),children:(0,r.jsxs)("div",{className:"relative h-48 w-full transition-transform duration-500 [transform-style:preserve-3d] rounded-lg",style:{transform:s[e.id]?"rotateY(180deg)":"rotateY(0deg)"},children:[(0,r.jsxs)("div",{className:"absolute inset-0 bg-card flex flex-col items-center justify-center text-center p-2 rounded-lg border border-border [backface-visibility:hidden]",children:[(0,r.jsx)(n.$,{type:"button",size:"icon",variant:"secondary",onClick:t=>{t.stopPropagation(),i(e.id)},className:"absolute top-2 right-2 h-7 w-7 rounded-full",title:a[e.id]?"즐겨찾기 해제":"즐겨찾기 추가",children:(0,r.jsx)("span",{className:"text-md flex items-center justify-center w-full h-full",children:a[e.id]?"⭐":"☆"})}),d?d(e):"chars"===c?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"text-6xl font-semibold break-all px-2",children:e.katakana})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"text-2xl font-semibold break-all px-2",children:e.katakana}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground mt-1",children:e.furigana})]})]}),(0,r.jsx)("div",{className:"absolute inset-0 bg-card flex flex-col items-center justify-center text-center p-2 rounded-lg border border-border [transform:rotateY(180deg)] [backface-visibility:hidden]",children:u?u(e):"chars"===c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"text-5xl font-semibold break-all",children:e.furigana}),(0,r.jsx)("div",{className:"text-2xl mt-1",children:e.emoji}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground mt-1 text-center",children:e.answer})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"text-lg font-semibold break-all",children:e.answer}),(0,r.jsx)("div",{className:"text-2xl mt-1",children:e.emoji}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground mt-2",children:["(",function(e){if(!e)return"";let t={きゃ:"kya",きゅ:"kyu",きょ:"kyo",ぎゃ:"gya",ぎゅ:"gyu",ぎょ:"gyo",しゃ:"sya",しゅ:"syu",しょ:"syo",じゃ:"zya",じゅ:"zyu",じょ:"zyo",ちゃ:"tya",ちゅ:"tyu",ちょ:"tyo",にゃ:"nya",にゅ:"nyu",にょ:"nyo",ひゃ:"hya",ひゅ:"hyu",ひょ:"hyo",みゃ:"mya",みゅ:"myu",みょ:"myo",りゃ:"rya",りゅ:"ryu",りょ:"ryo",びゃ:"bya",びゅ:"byu",びょ:"byo",ぴゃ:"pya",ぴゅ:"pyu",ぴょ:"pyo"},a={あ:"a",い:"i",う:"u",え:"e",お:"o",か:"ka",き:"ki",く:"ku",け:"ke",こ:"ko",さ:"sa",し:"shi",す:"su",せ:"se",そ:"so",た:"ta",ち:"chi",つ:"tsu",て:"te",と:"to",な:"na",に:"ni",ぬ:"nu",ね:"ne",の:"no",は:"ha",ひ:"hi",ふ:"fu",へ:"he",ほ:"ho",ま:"ma",み:"mi",む:"mu",め:"me",も:"mo",や:"ya",ゆ:"yu",よ:"yo",ら:"ra",り:"ri",る:"ru",れ:"re",ろ:"ro",わ:"wa",を:"o",ん:"n",が:"ga",ぎ:"gi",ぐ:"gu",げ:"ge",ご:"go",ざ:"za",じ:"ji",ず:"zu",ぜ:"ze",ぞ:"zo",だ:"da",ぢ:"ji",づ:"zu",で:"de",ど:"do",ば:"ba",び:"bi",ぶ:"bu",べ:"be",ぼ:"bo",ぱ:"pa",ぴ:"pi",ぷ:"pu",ぺ:"pe",ぽ:"po",ぁ:"a",ぃ:"i",ぅ:"u",ぇ:"e",ぉ:"o",ゃ:"ya",ゅ:"yu",ょ:"yo",っ:"*",ー:"-"},r=0,n="",s=["a","i","u","e","o"],i=r=>{let n=e.slice(r,r+2);return t[n]?t[n]:a[e[r]]||""};for(;r<e.length;){let l=e.slice(r,r+2);if(t[l]){n+=t[l],r+=2;continue}let o=e[r];if("っ"===o){let e=i(r+1);e&&(n+=e[0]),r+=1;continue}if("ー"===o){let e=Array.from(n).reverse().find(e=>s.includes(e));e&&(n+=e),r+=1;continue}n+=a[o]||o,r+=1}return n.replace(/n([yaeiou])/g,"n'$1")}(e.furigana),")"]})]})})]})},e.id))}),o&&o.total>1&&(0,r.jsxs)("div",{className:"mt-6 flex items-center justify-center gap-4 text-foreground",children:[(0,r.jsx)(n.$,{onClick:o.onPrev,disabled:1===o.current,size:"sm",variant:"outline",children:"이전"}),(0,r.jsxs)("span",{children:[o.current," / ",o.total]}),(0,r.jsx)(n.$,{onClick:o.onNext,disabled:o.current===o.total,size:"sm",variant:"outline",children:"다음"})]})]})}},7323:(e,t,a)=>{a.d(t,{x:()=>i});var r,n=a(2587);null===n.Ii||void 0===n.Ii||null==(r=n.Ii.getPlatform)||r.call(n.Ii);let s="http://localhost:3002".replace(/\/$/,"");async function i(e,t,a){var r;let n,i=(r="/api/generate",s?"".concat(s).concat(r):r),l=await fetch(i,{method:"POST",mode:"cors",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify({deckType:e,topic:t,count:a})}),o=await l.text(),c=l.headers.get("content-type")||"";if(!l.ok){let e="AI 데이터 생성 실패 (".concat(l.status," ").concat(l.statusText,")");try{if(o){let t=JSON.parse(o);e="".concat(t.error||e,"\n\n[세부 정보]\n").concat(t.details||"서버 오류")}}catch(t){e+="\n\n[서버 응답]\n".concat(o.slice(0,300)).concat(o.length>300?"…":"")}throw Error(e)}if(!c.includes("application/json"))throw Error("API 응답이 JSON이 아닙니다 (Content-Type: ".concat(c,").\nURL: ").concat(i,"\n")+"응답 미리보기:\n".concat(o.slice(0,300)).concat(o.length>300?"…":""));try{n=o?JSON.parse(o):[]}catch(e){throw Error("API 응답 JSON 파싱에 실패했습니다.")}return n.map((e,t)=>({...e,id:e.id||Date.now()+t}))}},7627:(e,t,a)=>{a.d(t,{c:()=>i});var r=a(2115),n=a(9708),s=a(5190);function i(e){let{user:t,deckType:a,initialDeck:i}=e,[l,o]=(0,r.useState)(i),[c,d]=(0,r.useState)({}),[u,m]=(0,r.useState)(!1),[y,f]=(0,r.useState)(!0),[h,x]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{if(m(!1),!t){o(i),d({}),m(!0);return}try{let l=(0,n.H9)(s.db,"users",t.uid),c=await (0,n.x7)(l);if(c.exists()){var e,r;let t=null==(e=c.data().learningData)?void 0:e[a];o((null==t||null==(r=t.deck)?void 0:r.length)?t.deck:i),d((null==t?void 0:t.favs)||{})}else o(i),d({})}catch(e){console.error("데이터 로딩 실패:",e),o(i),d({})}finally{m(!0)}})()},[t,a,i]);let g=(0,r.useCallback)(async(e,r)=>{if(t&&u)try{let i=(0,n.H9)(s.db,"users",t.uid);await (0,n.BN)(i,{learningData:{[a]:{deck:e,favs:r}}},{merge:!0})}catch(e){console.error("데이터 저장 실패:",e)}},[t,u,a]);return(0,r.useEffect)(()=>{u&&t&&g(l,c)},[l,c,u,t,g]),{deck:l,setDeck:o,favs:c,toggleFav:e=>d(t=>{let a={...t};return a[e]?delete a[e]:a[e]=!0,a}),shuffleDeck:()=>o(e=>[...e].sort(()=>Math.random()-.5)),resetDeckToInitial:()=>{o(i),d({})},isDataLoaded:u,clearFavs:()=>d({})}}}}]);