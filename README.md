# ssunbae edu project

> AIë¥¼ í™œìš©í•œ ë™ì  ë‹¨ì–´ ìƒì„±ê³¼ ë‹¤ì–‘í•œ í•™ìŠµ ëª¨ë“œë¥¼ ì œê³µí•˜ëŠ” ì¸í„°ë™í‹°ë¸Œ í•™ìŠµ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.
í–¥í›„ ë‹¤ì–‘í•œ ì–¸ì–´(ì¼ë³¸ì–´, ì˜ì–´, ìŠ¤í˜ì¸ì–´, ë“±)ë¥¼ ì§€ì›í•  ì˜ˆì •ì…ë‹ˆë‹¤.

**ğŸ”— ë°°í¬ ì‚¬ì´íŠ¸ ë°”ë¡œê°€ê¸°:** [https://ssunbae-edu.com/](https://ssunbae-edu.com/)

---

## ğŸ“¸ í”„ë¡œì íŠ¸ ìŠ¤í¬ë¦°ìƒ·

| ë©”ì¸ í•™ìŠµ í™”ë©´ | ì„¤ì • ë° ë‹¨ì–´ ìƒì„± |
|:---:|:---:|
| <img src="[https://github.com/user-attachments/assets/e1071533-0129-4a38-ab31-d7fb62790f25](https://github.com/user-attachments/assets/e1071533-0129-4a38-ab31-d7fb62790f25)" alt="ê°€íƒ€ì¹´ë‚˜ í”Œë˜ì‹œì¹´ë“œ ë©”ì¸ í™”ë©´" width="400"> | <img src="[https://github.com/user-attachments/assets/4a88d553-eb37-416f-bbd2-9164f74c23bc](https://github.com/user-attachments/assets/4a88d553-eb37-416f-bbd2-9164f74c23bc)" alt="ê°€íƒ€ì¹´ë‚˜ í”Œë˜ì‹œì¹´ë“œ ì„¤ì • í™”ë©´" width="400"> |

---

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

* **ğŸ“‡ 3D ì¸í„°ë™í‹°ë¸Œ í”Œë˜ì‹œì¹´ë“œ**: í´ë¦­ ë˜ëŠ” í‚¤ë³´ë“œ ì¡°ì‘ìœ¼ë¡œ ì•/ë’·ë©´ì„ ë’¤ì§‘ëŠ” 3D ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ë¥¼ ì ìš©í•˜ì—¬ í•™ìŠµì˜ ëª°ì…ê°ì„ ë†’ì˜€ìŠµë‹ˆë‹¤.
* **ğŸ¤– AI ë™ì  ë‹¨ì–´ ìƒì„±**: í•™ìŠµí•˜ê³  ì‹¶ì€ **ì£¼ì œ**ì™€ **ê°œìˆ˜**ë¥¼ ì…ë ¥í•˜ë©´, OpenAI(GPT) APIê°€ ì¦‰ì‹œ ìƒˆë¡œìš´ ê°€íƒ€ì¹´ë‚˜ ë‹¨ì–´ ëª©ë¡ì„ ìƒì„±í•©ë‹ˆë‹¤.
* **ğŸ”Š ì›ì–´ë¯¼ ë°œìŒ ì§€ì› (TTS)**: ë¸Œë¼ìš°ì €ì— ë‚´ì¥ëœ Web Speech APIë¥¼ í†µí•´ ê° ë‹¨ì–´ì˜ ì •í™•í•œ ì¼ë³¸ì–´ ë°œìŒì„ ë“¤ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* **â­ ì¦ê²¨ì°¾ê¸° ì‹œìŠ¤í…œ**: ì¤‘ìš”í•œ ë‹¨ì–´ë¥¼ ì¦ê²¨ì°¾ê¸°(â­)ì— ì¶”ê°€í•˜ê³ , ì¦ê²¨ì°¾ê¸°í•œ ë‹¨ì–´ë§Œ í•„í„°ë§í•˜ì—¬ ì§‘ì¤‘ì ìœ¼ë¡œ í•™ìŠµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* **âš™ï¸ ì‚¬ìš©ì ë§ì¶¤ ì„¤ì •**:
  * ë‹¤ì–‘í•œ ì¼ë³¸ì–´ TTS ìŒì„±(Voice) ì„ íƒ ê¸°ëŠ¥ì„ ì œê³µí•˜ì—¬ ì‚¬ìš©ìì—ê²Œ ê°€ì¥ ìì—°ìŠ¤ëŸ¬ìš´ ë°œìŒì„ ì°¾ì„ ìˆ˜ ìˆë„ë¡ ë•ìŠµë‹ˆë‹¤. (ë¸Œë¼ìš°ì €ë³„ ìµœì í™”)
  * ê°€ë…ì„± í–¥ìƒì„ ìœ„í•´ ì—„ì„ ëœ ì¼ë³¸ì–´ ì›¹ í°íŠ¸ 4ì¢…ì„ ì§€ì›í•˜ë©°, í•™ìŠµ í™˜ê²½ì— ë§ê²Œ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* **âŒ¨ï¸ í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ ì§€ì›**: `â†`, `â†’` í‚¤ë¡œ ì¹´ë“œë¥¼ ë„˜ê¸°ê³ , `Enter` ë˜ëŠ” `Space` í‚¤ë¡œ ì¹´ë“œë¥¼ ë’¤ì§‘ëŠ” ë“± í‚¤ë³´ë“œë§Œìœ¼ë¡œ ëª¨ë“  í•™ìŠµì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ (Tech Stack)

### Frontend
![Next.js](https://img.shields.io/badge/Next.js-000000?style=for-the-badge&logo=next.js&logoColor=white)
![React](https://img.shields.io/badge/React-20232A?style=for-the-badge&logo=react&logoColor=61DAFB)
![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=for-the-badge&logo=typescript&logoColor=white)
![Tailwind CSS](https://img.shields.io/badge/Tailwind_CSS-38B2AC?style=for-the-badge&logo=tailwind-css&logoColor=white)
![Shadcn/UI](https://img.shields.io/badge/shadcn/ui-000000?style=for-the-badge&logo=shadcn-ui&logoColor=white)

- **Framework**: Next.js (with App Router)
- **Language**: TypeScript
- **UI Library**: React
- **Styling**: Tailwind CSS
- **Component Library**: shadcn/ui

### Backend & API
![Next.js API Routes](https://img.shields.io/badge/Next.js_API_Routes-000000?style=for-the-badge&logo=next.js&logoColor=white)
![Firebase](https://img.shields.io/badge/Firebase-FFCA28?style=for-the-badge&logo=firebase&logoColor=black)
![OpenAI](https://img.shields.io/badge/OpenAI-412991?style=for-the-badge&logo=openai&logoColor=white)

- **Backend**: Next.js API Routes (Vercel Serverless Functions)
- **Authentication**: Firebase Authentication
- **AI Word Generation**: OpenAI API (gpt-3.5-turbo)
- **Text-to-Speech (TTS)**: Web Speech API (Browser built-in)

### Deployment
![Vercel](https://img.shields.io/badge/Vercel-000000?style=for-the-badge&logo=vercel&logoColor=white)

- **Hosting**: Vercel

---

## ğŸš€ ì‹œì‘í•˜ê¸° (Getting Started)

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- Node.js (v18.x ì´ìƒ ê¶Œì¥)
- npm, yarn, or pnpm

### ë¡œì»¬ í™˜ê²½ì—ì„œ ì‹¤í–‰í•˜ê¸°

1.  **ì €ì¥ì†Œ ë³µì œ**
    ```bash
    git clone https://github.com/SsunLee/ssunbae_katakana-flashcards.git
    cd ssunbae_katakana-flashcards
    ```

2.  **ì˜ì¡´ì„± ì„¤ì¹˜**
    ```bash
    npm install
    ```

3.  **í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**
    * í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í„°ë¦¬ì— `.env.local` íŒŒì¼ì„ ìƒì„±í•˜ê³  ì•„ë˜ ë‚´ìš©ì„ ìì‹ ì˜ í‚¤ ê°’ìœ¼ë¡œ ì±„ì›Œì£¼ì„¸ìš”.
    * Firebase ì„¤ì •ì€ Firebase Consoleì˜ í”„ë¡œì íŠ¸ ì„¤ì •ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

    ```.env.local
    # OpenAI API Key (ì„œë²„ ì „ìš©)
    OPENAI_API_KEY=sk-...

    # Firebase Configuration (í´ë¼ì´ì–¸íŠ¸ ê³µê°œìš©)
    NEXT_PUBLIC_FIREBASE_API_KEY=...
    NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=...
    NEXT_PUBLIC_FIREBASE_PROJECT_ID=...
    NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=...
    NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=...
    NEXT_PUBLIC_FIREBASE_APP_ID=...
    ```

4.  **ê°œë°œ ì„œë²„ ì‹¤í–‰**
    * Vercel CLIë¥¼ ì‚¬ìš©í•˜ë©´ ì‹¤ì œ ë°°í¬ í™˜ê²½ê³¼ ìœ ì‚¬í•˜ê²Œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    ```bash
    vercel dev
    ```
    * ë˜ëŠ” Next.js ê¸°ë³¸ ê°œë°œ ì„œë²„ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
    ```bash
    npm run dev
    ```

5.  ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:3000` ì£¼ì†Œë¡œ ì ‘ì†í•©ë‹ˆë‹¤.

---
# Mobile Settings

## 0) Requirements

- **macOS** (supports Xcode)
- **Xcode** (install from App Store)
- **CocoaPods** (`brew install cocoapods`)
- (Optional) **Android Studio** + SDKs
- **Homebrew**
- **nvm** (Node version manager)
- **Node.js â‰¥ 20 (LTS)**

> Tip: Use **nvm** to avoid global library/ICU mismatches and to switch Node versions easily.

---

## 1) Clone the repo & checkout the working branch

```bash
git clone <REPO_URL>
cd <repo-folder>

git fetch --all --prune
git switch -c feature/capacitor-setup --track origin/feature/capacitor-setup
# If already cloned locally:
# git switch feature/capacitor-setup
```

---

## 2) Install Node via nvm (recommended)

```bash
# Install nvm if missing
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash

# Restart terminal, then:
nvm install --lts
nvm use --lts
nvm alias default lts/*

node -v   # should print 20+
npm -v
```

> If you previously installed Node with Homebrew and saw ICU-related errors, prefer **nvm** going forward.

---

## 3) Install dependencies

```bash
npm ci   # use package-lock.json (preferred)
# If no lockfile, use: npm install
```

---

## 4) Next.js static export (Next 15)

In **Next 15**, the `next export` command was removed.  
Setting `output: 'export'` in `next.config` makes **`next build`** produce the static site in `out/` automatically.

**next.config.(js|mjs|ts)**

```js
/** @type {import('next').NextConfig} */
const nextConfig = {
  output: 'export',
  images: { unoptimized: true }, // recommended if using next/image
};
export default nextConfig;
```

**package.json â€” scripts**

```json
{
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "mobile:ios": "npm run build && npx cap copy ios && npx cap sync ios && npx cap open ios",
    "mobile:android": "npm run build && npx cap copy android && npx cap sync android && npx cap open android",
    "start": "next start",
    "lint": "next lint"
  }
}
```

---

## 5) Capacitor configuration

**capacitor.config.ts**

```ts
import type { CapacitorConfig } from '@capacitor/cli';

const config: CapacitorConfig = {
  appId: 'com.ssunbae.edu',
  appName: 'ssunbaeEdu',
  webDir: 'out',             // Next 15: generated by `next build`
  bundledWebRuntime: false,
};

export default config;
```

> Do **not** point `webDir` to `public/` â€” it doesnâ€™t contain an `index.html` after build.

---

## 6) iOS prerequisites (Xcode & CocoaPods)

```bash
# After installing full Xcode (not just CLT):
sudo xcode-select -s /Applications/Xcode.app/Contents/Developer
sudo xcodebuild -runFirstLaunch
sudo xcodebuild -license accept

# CocoaPods
brew install cocoapods
pod --version
```

One-time pod install:

```bash
cd ios/App
pod install
cd ../..
```

---

## 7) Run on iOS

```bash
npm run mobile:ios
# = next build â†’ cap copy ios â†’ cap sync ios â†’ open in Xcode
```

In Xcode: select target **App**, choose a device/simulator, and run.

---

## 8) Run on Android (optional)

- Install Android Studio, SDKs, and an emulator.
- Then:

```bash
npm run mobile:android
```

---

## 9) Development loop

- **Web-only changes** â†’
  ```bash
  npm run build
  npx cap copy ios
  # Open Xcode (if not already open) and run
  ```

- **Plugin/Native changes** â†’
  ```bash
  npm run build
  npx cap sync ios
  ```

> Never manually edit `ios/App/App/public` â€” it will be overwritten on every `cap copy`.
> Avoid deleting `ios/` and re-running `cap add ios` unless you intend to lose all native edits.

---

## 10) App icons & splash (optional)

```bash
npm i -D @capacitor/assets
npx capacitor-assets generate
npx cap sync ios android
```

---

## 11) API/Server code notes (static export compatibility)

Static export fails if API routes or server-only code run at **build time**.

- Guard client-side calls so they **do not run during static build**:
  ```ts
  import { useEffect } from 'react';

  export default function Page() {
    useEffect(() => {
      if (process.env.NEXT_PUBLIC_MOBILE_EXPORT) return; // skip in static/mobile builds
      // fetch('/api/generate') ...
    }, []);

    return /* ... */ null;
  }
  ```

- **Do not import** API handlers (e.g., `import { handler } from '@/app/api/generate/route'`).
  Use `fetch('/api/...')` at runtime only.

- Keep secrets (e.g., `OPENAI_API_KEY`) on the server side.  
  Consider `.env` switch for mobile builds:
  ```env
  NEXT_PUBLIC_MOBILE_EXPORT=1
  ```

---

## 12) Troubleshooting

| Symptom / Message | Cause | Fix |
|---|---|---|
| `copy ios â€“ failed! The web assets directory must contain index.html` | Wrong `webDir` or missing static build | Set `webDir: 'out'` and run `npm run build` |
| `ios platform already exists` when `cap add ios` | `ios/` already created | Skip `cap add`, just `cap copy` / `cap sync` |
| `cap` not found / CLI issues | CLI not installed or not resolved by npx | `npm i -D @capacitor/cli` or use `npx @capacitor/cli ...` |
| `Capacitor CLI requires Node >= 20` | Node too old | Use `nvm install --lts` and `nvm use --lts` |
| `xcodebuild requires Xcodeâ€¦` | Only Command Line Tools active | Install full Xcode, then `xcode-select -s ...` |
| `Skipping pod install` | CocoaPods not installed | `brew install cocoapods` â†’ `cd ios/App && pod install` |
| `next export` not found (Next 15) | Command removed | Use `output: 'export'` + `next build` |
| Build fails on `/api/*` | API/server code invoked at build time | Remove imports, guard client calls, or separate server runtime |

---

## 13) Xcode settings youâ€™ll likely touch

- **Signing & Capabilities**: Team, provisioning profile
- **Info.plist**: Permissions (Camera/Microphone/Photos/Location), ATS exceptions, URL Schemes
- **Target settings**: iOS Deployment Target, orientations, status bar, etc.

---

## 14) Handy commands

```bash
# Build static web (creates `out/`)
npm run build

# iOS
npx cap copy ios
npx cap sync ios
npx cap open ios

# Android
npx cap copy android
npx cap sync android
npx cap open android
```

---

## TL;DR (Quick Start)

```bash
git clone <REPO_URL> && cd <repo-folder>
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash
# restart terminal
nvm install --lts && nvm use --lts
npm ci
npm run build
npx cap copy ios && npx cap sync ios && npx cap open ios
# In Xcode: select target App â†’ run on simulator or device
```